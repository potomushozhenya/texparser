


\noindent{\small УДК 004.82  \hfill {\footnotesize Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~18.~Вып.~\issuenum}\\
MSC 03B70

}

\vskip3mm

\noindent{\bf Выделение общих свойств объектов
для создания логических онтологий$^{*}$%
 }

\vskip3mm

\noindent{\it Т.~М.~Косовская,  Н.~Н.~Косовский%$\,^1$%
%, И.~О. Фамилия%$\,^2$%
}

\efootnote{
%%
\vspace{-3mm}\parindent=7mm
%%
\vskip 0.1mm $^{*}$ Работа выполнена при финансовой поддержке Санкт-Петербургского государственного университета (проект № 73555239).\par%
%%
%%\vskip 2.0mm
%%
\indent{\copyright} Санкт-Петербургский государственный
университет, \issueyear%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum03 } }\hfill\thepage}%
\fancyfoot[RE]{\thepage\hfill{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum03}}}%
% для оформления нижнего колонтитула
\cfoot{} %

\vskip3mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\footnotesize




\noindent%
%$^2$~%
Санкт-Петербургский государственный университет, Российская
Федерация,

\noindent%
%\hskip2.45mm%
199034, Санкт-Петербург, Университетская~наб., 7--9

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\vskip3mm

{\small \noindent \textbf{Для цитирования:}
\textit{Косовская~Т.~М.,  Косовский~Н.~Н.} Выделение общих свойств объектов для создания логических онтологий~//
Вестник Санкт-Пе\-тер\-бург\-ского университета. Прикладная
математика. Информатика. Процессы управления. \issueyear. Т.~18.
Вып.~\issuenum.
С.~\pageref{p3}--\pageref{p3e}. %\\
\doivyp/\enskip%
\!\!\!spbu10.\issueyear.\issuenum03

\vskip3mm

{\leftskip=7mm\noindentПредлагается подход к формированию онтологии, основанный на описаниях объектов в терминах языка исчисления предикатов. При таком подходе объект представлен как множество своих элементов, на котором задан набор предикатов, характеризующих свойства этих элементов и отношения между ними. Описанием объекта является конъюнкция литералов, истинных на элементах объекта.
Под онтологией понимается ориентированный граф с описаниями подмножеств в качестве вершин, такой что элементы множества в конце дуги обладают свойствами элементов множества в начале этой дуги.
Предлагаются следующие формулировки задачи построения онтологии: 1)~все предикаты двузначные и заданы подмножества исходного множества объектов; 2)~все предикаты двузначные и требуется найти подмножества исходного множества; 3)~среди предикатов имеются многозначные и заданы подмножества исходного множества объектов.
Основным инструментом построения такого графа является выделение элементарной конъюнкции литералов предикатных формул, изоморфной подформулам некоторых формул. Дается определение изоморфизма элементарных конъюнкций атомарных предикатных формул. Для каждой из предложенных задач формулируются алгоритмы построения онтологии. %Рассматриваются различные постановки задачи создания онтологии.
%Описывается алгоритм объединения двух онтологий.
Приводится иллюстративный пример.\\[1mm]
\textit{Ключевые слова}: логическая онтология, предикатные формулы, изоморфизм предикатных формул.

}

}

\vskip 4mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\bf 1. Введение.}
В философии под онтологией понимают абстракции, принимаю\-щие во внимание одни признаки предметов (или отношения между частями этих предметов) и игнорирующие другие.

Для математиков онтология --- это ориентированный граф, в каждой вершине которого находится множество объектов, обладающих одними и теми же свойствами (или отношениями между частями  объектов этого множества). Причем все объекты, находящиеся в конце дуги, обладают свойствами, присущими всем объектам в начале дуги и некоторыми дополнительными [1].

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Создание онтологии предметной области является одним из направлений представления знаний для использования их в системах искусственного интеллекта и извлечения знаний из баз данных [2--5]. При решении задач искусственного интеллекта широко применяются подходы, основанные на различных методах дискретной математики, например графах~[6] и нечетких множествах~[7].

Если объект представлен как совокупность своих элементов, обладающих конкретными свойствами и связанных заданными отношениями, то описание объекта может быть задано формулой исчисления предикатов, в частности элементарной дизъюнкцией литералов~[8].

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!



Для выделения из множества таких объектов подмножества, обладающего общими свойствами, в [8, 9] было предложено построение многоуровневого описания исходного множества объектов, существенно уменьшающего вычислительную сложность задач распознавания и анализа сложных объектов. Фактически эти описания являются иерархическими, но для них (в отличие от онтологий) описания объектов на верхних уровнях являются частными случаями описаний на нижних уровнях. В~настоящей работе предлагается использовать идеи такого построения для формирования онтологии.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Основным инструментом создания данного описания служит выделение элементарной конъюнкции литералов предикатных формул, изоморфной подформулам некоторых других  элементарных конъюнкций. В п.~2 даются определения и формулируется утверждение, необходимые для понимания дальнейшего изложения.


В п.~3 приводятся математические постановки двух задач построения онтологии для объектов, описываемых двузначными предикатами, среди аргументов которых нет числовых переменных, и приводятся алгоритмы их решения.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

В п. 4 рассматривается постановка задачи построения онтологии для множества объектов, описания которых содержат многозначные предикаты. Эта постановка сводится к применению в их описаниях двузначных предикатов, среди аргументов которых имеются количественные переменные. Описываются алгоритм решения такой задачи и иллюстративный пример.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

%\bigbreak
{\bf 2. Основные определения.}
В основе дальнейшего изложения лежит понятие изоморфизма  элементарных конъюнкций предикатных формул.
Приведем определение этого понятия.

%\medbreak
{\bf Определение 1.}  {\it Две элементарные конъюнкции атомарных формул исчисления предикатов $P(a_1,\dots,a_m)$ и $Q(b_1,\dots,b_m)$ называются изоморфными, т. е.
$$ P(a_1,\dots,a_m) \sim Q(b_1,\dots,b_m),$$
 если существуют такая элементарная конъюнкция $R(x_1,\dots,x_m)$ и подстановки аргументов $a_{i_1}, \dots, a_{i_m} $ и $b_{j_1}, \dots, b_{j_m}$ формул $P(a_1,\dots,a_m)$ и $Q(b_1,\dots,b_m)$ соответственно вместо всех вхождений переменных $x_1,\dots,x_m$ формулы $R(x_1,\dots,x_m)$, что  результаты этих подстановок  $R(a_{i_1}, …, a_{i_m})$ и  $R(b_{j_1}, …, b_{j_m})$ совпадают с формулами $P(a_1,\dots,a_m)$ и $Q(b_1,\dots,b_m)$ соответственно с точностью до порядка литералов.

При этом полученные подстановки $(a_{i_1}\to x_1, …, a_{i_m} \to x_m)$ и $(b_{j_1}\to x_1, …, b_{j_m} \to x_m)$ называются унификаторами формул $P(a_1,\dots,a_m)$ и $Q(b_1,\dots,b_m)$ соответственно с формулой $R(x_1,\dots,x_m)$.}

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Отметим, что аргументами элементарных конъюнкций $P(a_1,\dots,a_m)$, $Q(b_1,\dots,$ $b_m)$ могут быть как предметные переменные, так и предметные константы. При этом понятие изоморфизма элементарных конъюнкций является отношением эквивалентности, и формулу $R(x_1,\dots,x_m)$ можно считать обобщенным описанием этого класса: $R(x_1,\dots,x_m) \sim P(a_1,\dots,a_m)$ и  $R(x_1,\dots,x_m) \sim Q(b_1,\dots,b_m)$.

Кроме того, понятие изоморфизма элементарных конъюнкций атомарных формул исчисления предикатов отличается от понятия равносильности этих формул, так как они могут иметь существенно различные аргументы. По сути дела для изоморфных формул существуют такие перестановки их аргументов, что они задают одно и то же отношение между своими аргументами.

В [10] доказано, что задача проверки формул на изоморфность полиномиально эквивалентна задаче проверки изоморфизма графов, являющейся <<открытой>> задачей, для которой не доказаны ни ее принадлежность классу {\bf P}, ни ее  NP-полнота. Ласло Бабай в 2017 г. [11] предложил квазиполиномиальный алгоритм ее решения. Полученная им оценка $2^{O((\log n)^3)}$ до сих пор проверяется.

Для построения онтологии потребуется выделение из двух заданных элементарных конъюнкций максимальных подформул, изоморфных друг другу.

%\medbreak
{\bf Определение 2.}  {\it Элементарная конъюнкция называется максимальной формулой, изоморфной подформулам двух заданных элементарных конъюнкций, если она изоморфна некоторым подформулам этих элементарных конъюнкций, но после добавления в нее любого литерала она не изоморфна ни одной подформуле хоть одной из них.}

В дальнейшем изложении не будем использовать предикатные формулы, вид которых отличается от элементарной конъюнкции литералов. Поэтому вместо длинного термина <<элементарная конъюнкция литералов>> часто будем применять термин <<формула>>.

%\medbreak
Приведем {\bf пример} максимальной формулы, изоморфной подформулам двух заданных элементарных конъюнкций.

Пусть
$$ P(a,b,c) = p_1(a,b)~\&~\lnot p_1(a,c)  ~\&~p_2(b,c,a), $$
$$ Q(a,b,c) = p_1(b,a)~\&~\lnot p_1(a,c)  ~\&~p_2(a,c,b). $$
Эти элементарные конъюнкции имеют общую подформулу
$$R_1(a,c) = \lnot p_1(a,c)$$
с одним литералом и подформулу
$$ R_2(x,y) = p_1(x,y)~\&~p_2(y,c,x), $$
изоморфную подформулам формул $ P(a,b,c)$ и $ Q(a,b,c)$, так как
$$ P(a,b,c) = R(a,b)~\&~p_1(a,c), $$
$$ Q(a,b,c) = R(b,a)~\&~p_1(a,c). $$
Добавление в формулу $ R_2(x,y)$ литерала $\lnot p_1(x,z)$ превращает ее в изоморфную формуле $ P(a,b,c)$, но не изоморфную формуле $ Q(a,b,c)$.
Добавление же в нее литерала $\lnot p_1(y,z)$ превращает ее в изоморфную формуле $ Q(a,b,c)$, но не изоморфную формуле $P(a,b,c)$.

Таким образом, как литерал $\lnot p_1(x,z)$, так и элементарная конъюнкция $ R(x,y) = p_1(x,y)~\&~p_2(y,c,x) $ являются  максимальными формулами, изоморфными подформулам формул  $P(a,b,c)$ и $ Q(a,b,c)$.

В [12] приведен алгоритм выделения максимальной формулы, изоморфной подформулам двух заданных элементарных конъюнкций. Отметим, что в отличие от задачи проверки формул на изоморфность задача выделения из двух заданных элементарных конъюнкций максимальных подформул, изоморфных друг другу, является NP-трудной.

Для дальнейшего изложения важным также будет понятие <<наибольшее общее свойство элементов из заданного множества>>.

Пусть задано множество объектов $\Omega$, в котором каждый объект $\omega $ является совокупностью своих элементов $\omega = \{ \omega_1, \dots , \omega_t\}$. На этих объектах задан набор предикатов $p_1, \dots , p_n$, характеризующих свойства элементов из $\omega $  и отношения между ними.

Если все предикаты  $p_1, \dots , p_n$ двузначные, то {\it логическим описанием $S(\omega )$ объекта $\omega $} называется конъюнкция всех литералов, истинных на $\omega$. %$\footnote{Аргументами логического описания $S(\omega )$ объекта $\omega $ являются константы.}.
Заметим, что аргументами логического описания $S(\omega )$ объекта $\omega $ являются константы.

{\it Обобщенным логическим описанием $P_{\omega}(\overline{x}_\omega )$ объекта $\omega $} называется элементарная конъюнкция, задающая класс эквивалентности по отношению изоморфизма формул вo множестве логических описаний объектов из $\Omega$. При этом аргументами обобщенного логического описания $P_{\omega}(\overline{x}_\omega )$ объекта $\omega $ могут быть как переменные, так и константы.

{\it Логическим описанием $S(\Omega )$ множества $\Omega$} называется множество обобщенных логических описаний $P_{\omega}(\overline{x}_\omega )$ объектов $\omega \in \Omega$:
$$S(\Omega ) = \{P_{\omega}(\overline{x}_\omega ): \omega\in \Omega\}.$$


\noindent
Заметим, что логическое описание $S(\Omega )$ множества $\Omega$ не содержит изоморфных формул.

%\medbreak
{\bf Определение 3.}
{\it Наибольшим общим свойством элементов из множества $\Omega$ называется наибольшая по количеству литералов формула, для которой в каждом описании объекта из $\Omega$ имеется изоморфная подформула.}

%\medbreak
{\bf Утверждение.}
 Если 1) множества $\Omega_1$ и $\Omega_2$ являются подмножествами множества $\Omega$, причем в каждом из них вместе с конкретным объектом содержатся и все объекты, описания которых изоморфны его описанию;
2) элементарные конъюнкции $P_1(\overline{x}_1)$ и  $P_2(\overline{x}_2)$ являются наибольшими общими свойствами элементов из множеств  $\Omega_1$ и $\Omega_2$ соответственно;
3) $P_1(\overline{x}_1)$ изоморфна некоторой подформуле формулы $P_2(\overline{x}_2)$,
то $\Omega_1 \subset \Omega_2$.


{\bf 3. Постановки задач построения логической онтологии с двузначными предикатами.}

{\bf Задача 1.} %Двузначные предикаты и выделены подмножества объектов, по которым требуется построить онтологию.
Пусть все предикаты $p_1, \dots , p_n$, характеризующие свойства элемен\-тов~из~$\omega $  и отношения между ними, по которым требуется построить онтологию, дву\-значны.

Вo множестве  $\Omega $  выделены (возможно, пересекающиеся) подмножества $\Omega_1,\dots,$ $ \Omega_m$, причем в каждом из них вместе с конкретным объектом содержатся и все объекты, описания которых изоморфны его описанию. Эти подмножества соответствуют некоторым известным свойствам объектов, которые будут присутствовать в онто\-логии.


Требуется построить ориентированный граф, у которого вершина с нулевым заходом помечена множеством $\Omega$ и соответствует множеству неизоморфных формул, каждая из которых изоморфна некоторым описаниям объектов из $\Omega$.

Если из вершины  $\Omega_k$ выходят дуги к вершинам, помеченным множествами $\Omega_{k_1},\dots,\Omega_{k_r}$, то \sloppy{    }

1) $\Omega_k=\cup_{i=1}^r \Omega_{k_i}$;

2) для каждого $i=1,\dots,r$ каждая формула в описании объектов из $\Omega_{k_i}$ изоморфна одной из формул в описании $\Omega_k$,
т.~е. объекты из $\Omega_{k_i}$ обладают всеми свойствами, общими для всех объектов из $\Omega_k$;

3) если $i\neq j$, то наибольшие общие свойства элементов из $\Omega_{k_i}$ и $\Omega_{k_j}$ различны.


Для решения этой задачи выделим максимальные общие свойства $Q_1(\overline{x}_1), \dots ,$ $Q_m(\overline{x}_m)$ объектов из $\Omega_1,\dots, \Omega_m$ и перенумеруем их в порядке убывания количества литералов в элементарных конъюнкциях $P_1(\overline{x}_1), \dots, P_m(\overline{x}_m)$. \sloppy{

}

Для $i=1, \dots , m$ выполняем следующие действия:

1) среди формул $P_{i+1}(\overline{x}_{i+1}),\dots, P_m(\overline{x}_{m})$ находим формулы, изоморфные некоторым подформулам  формулы $P_i(\overline{x}_i)$;

2) соединяем ориентированными ребрами вершину, помеченную $P_i(\overline{x}_i)$, с найденными формулами;

3) если для некоторого $j>i$, для которого добавлено ребро из $P_i(\overline{x}_i)$ в $P_j(\overline{x}_j)$,  уже имеется ребро из  $P_k(\overline{x}_k)$ в $P_j(\overline{x}_j)$ ($k<i<j$), то это ребро удаляем (рис. 1);

4) к вершинам, которые в полученном графе имеют нулевой заход, добавляем ориентированные ребра от корневой вершины.

Удаление <<лишних>> ребер соответствует следующему. Пусть множество $A$ со свойством $P_j(\overline{x}_j)$ изначально было определено как подмножество множества $B$ со свойством $P_k(\overline{x}_k)$. При анализе множества $A$ выяснилось, что оно является подмножеством множества $C$ со свойством $P_i(\overline{x}_i)$ (левая часть рис. 1). Поэтому непосредственную связь между множествами $A$ и $B$ удалили (правая часть рис. 1).

\begin{center}
\begin{picture}(300,80)

\put(85,55){$P_k(\overline{x}_k)$}
\put(100,60){\oval(40,20)}

\put(80,55){\vector(-3,-1){48}}

\put(20,30){\oval(40,20)}
\put(05,25){$P_i(\overline{x}_i)$}

\put(40,25){\vector(4,-1){40}}
\put(100,50){\vector(0,-1){30}}
\put(100,10){\oval(40,20)}
\put(85,5){$P_j(\overline{x}_j)$}

%%%%%%%%%%%%%%%%%%%%
\put(285,55){$P_k(\overline{x}_k)$}
\put(300,60){\oval(40,20)}

\put(280,55){\vector(-3,-1){48}}

\put(220,30){\oval(40,20)}
\put(205,25){$P_i(\overline{x}_i)$}

\put(240,25){\vector(4,-1){40}}
%\put(300,20){\vector(0,1){30}}
\put(300,10){\oval(40,20)}
\put(285,5){$P_j(\overline{x}_j)$}

\end{picture}
\end{center}


\vspace{.5cm}
\centerline{\small{\it Рис. 1}. Удаление <<лишних>> ребер}
\vspace{.5cm}



{\bf Задача 2.} %двузначные предикаты, не выделены подмножества объектов, по которым требуется построить онтологию.
Пусть все предикаты $p_1, \dots , p_n$, характеризующие свойства элемен\-тов~из~$\omega $  и отношения между ними, по которым требуется построить онтологию, дву\-значные.

Заданы множество  $\Omega $ и его логическое описание $S(\Omega )$, содержащее $n_0$ неизоморфных формул.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Требуется выделить (возможно, пересекающиеся) подмножества $\Omega_1,\dots, \Omega_m$, обладающие общими свойствами, и построить ориентированный граф, имеющий свойства из задачи 1.


Для решения этой задачи можно воспользоваться алгоритмом построения многоуровневого описания класса [8, 9] по обучающей выборке:

1) для каждой пары элементарных конъюнкций $P_i(\overline{x}_i)$ и $P_j(\overline{x}_j)$ ($1\le i <j \le n_0$), входящих $S(\Omega )$,
выделяем максимальную формулу $Q^1_{ij}(\overline{x}_{ij})$, изоморфную их подформулам.

Если среди выделенных максимальных формул имеются изоморфные, то оставляем только одну из них и перенумеровываем эти формулы без повторений $P^1_1(\overline{x}^1_1), \dots , P^1_{n_1}(\overline{x}^1_{n_1})$. Из вершины, помеченной $S(\Omega )$, проводим ориентированные ребра к вершинам, помеченным $P^1_i(\overline{x}^1_i)$ при $1\le i \le n_1$;  \sloppy{

}

2) повторяем (при $l=2,\dots,L$)\!\!\footnote{Процесс завершится, так как на каждой итерации длины подформул уменьшаются. }\!\! процесс выделения максимальных формул, изоморфных подформулам для пар $P^{l-1}_{i}(\overline{x}^{l-1}_i)$ и  $P^{l-1}_j(\overline{x}^{l-1}_j)$, $1\le i <j \le n_1$, получив формулы  $Q^{l}_{ij}(\overline{x}_{ij})$:

%!!!!!!!!!!!!!!!!!!  звёздочки  !!!!!!!!!!!!!!!!!!!!!!!!

2а) если среди выделенных максимальных формул имеются изоморфные, то оставляем только одну из них и перенумеровываем эти формулы без повторений $P^l_1(\overline{x}^l_1), \dots , P^l_{n_l}(\overline{x}^l_{n_l})$,

2б)  из вершин, помеченных  $P^{l-1}_{i}(\overline{x}^{l-1}_{i})$ и  $P^{l-1}_{j}(\overline{x}^{l-1}_{j})$, проводим ориентированные ребра к вершине, помеченной формулой $P^{l}_k(\overline{x}^{l}_k)$, изоморфной подформулам формул  $P^{l-1}_{i}(\overline{x}^{l-1}_{i})$ и  $P^{l-1}_{j}(\overline{x}^{l-1}_{j})$,

2в) если среди выделенных максимальных формул имеется изоморфная ранее выделенной, то вершину, соответствующую последней, <<склеиваем>> с вновь выделенной  (вместе с ребрами, ицидентными этой вершине).



Отметим, что при выполнении алгоритма невозможно возникновение <<порочного круга>>, при котором вершина, полученная в результате <<склейки>>, находится в ориентированном цикле.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Действительно, пусть <<склеиваются>> вершины, соответствующие элементарным конъюнкциям $P^{l+1}_k(\overline{x}^{l+1}_k)$ и $P^{l'}_{k'}(\overline{x}^{l'}_{k'})$. Данные формулы изоморфны и, следовательно, \mbox{имеют} одинаковую длину. При похождении вдоль ориентированного пути длины элементарных конъюнкций убывают, так как формула в следующей вершине изоморфна подформуле в предыдущей вершине. Следовательно, невозможен ориентированный путь между <<склеиваемыми>> вершинами.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

 На рис. 2 формула $P^{l+1}_k(\overline{x}^{l+1}_k)$ изоморфна ранее полученной формуле $P^{l'}_{k'}(\overline{x}^{l'}_{k'})$ (в левой части рисунка). В результате <<склейки>>  вершин с изоморфными формулами (правая часть рисунка) возникают дуги из $P^{l+1}_k(\overline{x}^{l+1}_k)$ к ранее определенным вершинам, к которым прежде шли дуги из $P^{l'}_{k'}(\overline{x}^{l'}_{k'})$.

\noindent
%\begin{center}
\begin{picture}(350,200)

\put(90,175){$S(\Omega )$}
\put(100,180){\oval(40,20)}

\put(90,170){\vector(-2,-1){30}}
\put(110,170){\vector(2,-1){30}}
\put(90,150){$\cdots$}
\put(95,130){$\vdots$}

%%%%%%%%%%%%%

\put(105,110){\oval(46,20)}
\put(88,105){$P^{l''}_{i''}(\overline{x}^{l''}_{i''})$}
\put(70,105){$\cdots$}
\put(100,100){\vector(2,-1){20}}

\put(165,110){\oval(48,20)}
\put(148,105){$P^{l''}_{j''}(\overline{x}^{l''}_{j''})$}
\put(130,105){$\cdots$}
\put(160,100){\vector(-2,-1){20}}

\put(130,80){\oval(44,20)}
\put(115,75){$P^{l'}_{k'}(\overline{x}^{l'}_{k'})$}
\put(120,70){\vector(-1,-1){10}}
\put(130,70){\vector(1,-1){10}}
\put(120,60){$\cdots$}

%%%%%%%%%

\put(35,40){\oval(40,20)}
\put(20,35){$P^l_i(\overline{x}^l_i)$}
\put(0,35){$\cdots$}
\put(30,30){\vector(2,-1){20}}

\put(130,35){$\cdots$}
\put(105,40){\oval(40,20)}
\put(90,35){$P^l_j(\overline{x}^l_j)$}
\put(60,35){$\cdots$}
\put(100,30){\vector(-2,-1){20}}

\put(70,10){\oval(60,20)}
\put(45,5){$P^{l+1}_k(\overline{x}^{l+1}_k)$}

%%%%%%%%%%%%%%%%%%%%
\put(280,175){$S(\Omega )$}
\put(290,180){\oval(44,20)}

\put(280,170){\vector(-2,-1){30}}
\put(300,170){\vector(2,-1){30}}
\put(280,150){$\cdots$}
\put(285,130){$\vdots$}

%%%%%%%%%%%%%

\put(295,110){\oval(46,20)}
\put(278,105){$P^{l''}_{i''}(\overline{x}^{l''}_{i''})$}
\put(260,105){$\cdots$}
\put(290,100){\vector(-1,-2){40}}

\put(355,110){\oval(48,20)}
\put(338,105){$P^{l''}_{j''}(\overline{x}^{l''}_{j''})$}
\put(320,105){$\cdots$}
\put(350,100){\vector(-1,-3){30}}
\put(320,10){\vector(-1,0){30}}

%%%%%%%%%

\put(225,40){\oval(40,20)}
\put(210,35){$P^l_i(\overline{x}^l_i)$}
\put(190,35){$\cdots$}
\put(220,30){\vector(2,-1){20}}

\put(320,35){$\cdots$}
\put(295,40){\oval(40,20)}
\put(280,35){$P^l_j(\overline{x}^l_j)$}
\put(250,35){$\cdots$}
\put(290,30){\vector(-2,-1){20}}

\put(260,10){\oval(60,20)}
\put(235,5){$P^{l+1}_k(\overline{x}^{l+1}_k)$}
\put(250,0){\vector(-1,-1){10}}
\put(260,0){\vector(1,-1){10}}
\put(250,-10){$\cdots$}

\end{picture}

\vspace{0.5cm}
\centerline{\small{\it Рис. 2.} <<Склеивание>> вершин с изоморфными формулами $P^{l+1}_k(\overline{x}^{l+1}_k)$ и $P^{l'}_{k'}(\overline{x}^{l'}_{k'})$}

%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{.5cm}

%\bigbreak
{\bf 4. Постановки задач построения логической онтологии с многозначными предикатами.}
Заметим, что можно рассматривать  не обязательно двузначные предикаты  $p_1, \dots , p_n$. Они могут быть конечнозначными (задающими свойство попадания числового признака объекта в конечный промежуток или, например, цвет элемента объекта) или даже бесконечнозначными (задающими, например, длину, вес и т.~п.). Многозначный $n$-местный предикат $q^n$ со значениями из множества $D_{q^n}$ можно трактовать как $(n+1)$-местный предикат $q^{n+1}$, определяемый равносильностью $q^{n+1}(\overline{x};y) \Leftrightarrow q^n(\overline{x}) = y$, и где переменные из списка $\overline{x}$ являются переменными для имен самого объекта, а переменная $y$ --- это переменная для значений из $D_{q^n}$.

Фактически это означает, что среди аргументов предиката имеются не только переменные для имен элементов объекта $\omega$ или сами имена, но и числовые аргументы. Такие предикаты и числовые аргументы у них будем называть количественными.

Для того чтобы в формуле отличать переменные для имeн элементов объекта $\omega$ или сами эти имена от имeн числовых аргументов, при записи обозначения формулы будем писать $P(\overline{x};\overline{a}_1;\dots;\overline{a}_m)$, где $\overline{x}$ --- список аргументов для имeн элементов объекта, $\overline{a}_1;\dots;\overline{a}_m$ --- списки количественных аргументов для различных вхождений многозначных предикатов. При проверке формул на изоморфизм приходится отождествлять (ставить им в соответствие одну и ту же переменную) разные элементы разнообразных объектов (но не различные элементы одного объекта). При наличии количественных аргументов их отождествление фактически означает отождествление разных значений многозначного предиката. Поэтому при построении онтологии для работы с количественными аргументами требуется разработать отдельный алгоритм.

Продемонстрируем невозможность использования понятия изоморфизма формул при наличии многозначных предикатов. Формулы $A=p(a,b)~\&~p(b,c)$ и $B=p(b,c)~\&~p(c,a)$ с двузначным предикатом $p$ изоморфны, так как получаются из $R=p(x,y)~\&~p(y,z)$ с унификаторами $(a\to x,b\to y,c\to z )$ и $(b\to x,c\to y,a\to z )$
%$|^{xyz}_{abc}$ и $|^{xyz}_{bca}$
соответственно. Но говорить об изоморфности формул $A'=p'(a,b;l_1)~\&~p'(b,c;l_2)$ и $B'=p'(b,c;l_3)~\&~p'(c,a;l_4)$ с двузначным предикатом $p'$, определяемым посредством многозначного предиката $q$ как $p'(x,y;l)\Leftrightarrow (q(x,y)=l)$, нельзя. Даже если множество значений $q$ состоит из трех элементов $\{t,?,f\}$ (как в трехзначной логике Лукасевича), то $A'=p'(a,b;t)~\&~p'(b,c;f)\Leftrightarrow q(a,b)~\&~\lnot q(b,c)$, а $B'=p'(b,c;f)~\&~p'(c,a;t)\Leftrightarrow \lnot q(b,c)~\&~q(c,a)$. Для двух последних формул такой формулы $R$ и унификатора не существует, так как у формулы $A'$ второй аргумент у литерала без отрицания и первый аргумент у литерала с отрицанием одинаковы, а у формулы $B'$ они различны.

{\bf Задача 3.} %Многозначные предикаты и выделены подмножества объектов, по которым требуется построить онтологию.
Пусть среди предикатов $p_1, \dots , p_n$, характеризующих свойства элементов из $\omega $  и отношения между ними, по которым требуется построить онтологию, имеются многозначные.

Вo множестве  $\Omega $  выделены (возможно, пересекающиеся) подмножества $\Omega_1,\dots,$ $ \Omega_m$, причeм в каждом из них вместе с конкретным объектом содержатся и все объекты, описания которых изоморфны (учитывая только двузначные предикаты) его описанию.

Требуется построить ориентированный граф, у которого вершина с нулевым заходом помечена множеством $\Omega$ и соответствует множеству неизоморфных формул, каждая из которых изоморфна некоторым описаниям объектов из $\Omega$.

Если из вершины  $\Omega_k$ выходят дуги к вершинам, помеченным множествами $\Omega_{k_1},\dots,\Omega_{k_r}$, то \sloppy{    }

1) $\Omega_k=\cup_{i=1}^r \Omega_{k_i}$;

2) для каждого $i=1,\dots,r$ каждая формула в описании объектов из $\Omega_{k_i}$ изоморфна одной из формул в описании $\Omega_k$,
т.~е. объекты из $\Omega_{k_i}$ обладают всеми свойствами, общими для всех объектов из $\Omega_k$;

3) если $i\neq j$, то наибольшие общие свойства элементов из $\Omega_{k_i}$ и\, $\Omega_{k_j}$ различны. \linebreak
%%%%%%%%%%%%%%%
%
\indentКак при решении задачи 1, выделяем наибольшие общие свойства объектов, для каждого множества  $\Omega_1,\dots, \Omega_m$ учитывая только двузначные предикаты.

%!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!







Приступаем к анализу количественных свойств объектов.
В описании каждого из выделенных подмножеств $\Omega_1,\dots, \Omega_m$ множества $\Omega$ находим наибольшее общее свойство его элементов $P_1(\overline{x}_1),\dots, P_m(\overline{x}_m)$ и упорядочиваем их по количеству аргументов (числовых переменных) в порядке убывания $P_{k_1}(\overline{x}_{k_1}),\dots, P_{k_m}(\overline{x}_{k_m})$.

Для $i=1,\dots, m$ выполняем следующие действия:

1) среди формул $P_{k_{i+1}}(\overline{x}_{k_{i+1}}),\dots, P_{k_m}(\overline{x}_{k_m})$ устанавливаем формулы с наименьшим количеством аргументов, полученные из $P_{k_{i}}(\overline{x}_{k_{i}})$ отождествлением числовых аргументов;

2) из вершины, помеченной $\Omega_{k_{i}}$, проводим дуги к вершинам, соответствующим найденным формулам.

При добавлении к выделенным подмножествам ещe одного подмножества  $\tilde \Omega$ находим наибольшее общее свойство его элементов $\tilde P (\overline{x}_{\tilde ~})$. Определяем его место среди $P_{k_1}(\overline{x}_{k_1}),\dots, P_{k_m}(\overline{x}_{k_m})$, присваиваем ему соответствующий номер $i_0$ и увеличиваем на единицу индексы номеров формул с $i\ge i_0$. Получаем $P_{k_1}(\overline{x}_{k_1}),\dots,P_{k_{i_0}}(\overline{x}_{k_{i_0}}),\dots,$ $P_{k_{m+1}}(\overline{x}_{k_{m+1}})$. \sloppy{  }

Затем выполняем действия 1, 2 для $i=i_0$.


{\bf 5. Иллюстративный пример: онтология четырeхугольников.}
Рассмотрим множество четырeхугольников. Каждый объект (четырeхугольник) задаeтся последовательностью четырех различных имен вершин, соединeнных друг с другом в цикл.

Каждый объект характеризуется длинами своих сторон и величинами его внутренних углов\!\!\footnote{Все углы не равны $\pi$ (что исключает треугольники с поставленной точкой на одной из сторон и отрезки с поставленными на них двумя точками) и сумма всех внутренних углов равна $2\pi$ (что исключает пересечение сторон, не имеющих общих концов).}\!\!. Описание каждого четырeхугольника содержит бесконечнозначные предикаты: $|xy|$ --- длина отрезка $[x,y]$ и $\angle x$ --- внутренний угол при вершине $x$.

В связи с этим введeм в рассмотрение двузначные предикаты, определяющие соответственно отношения <<длина стороны $xy$  равна $l$>> и <<внутренний угол при вершине $x$ равен $a$>>:
$${\rm length}(x,y;l)\Leftrightarrow |xy|=l, ~~~~
{\rm angle}(x;a)\Leftrightarrow \angle x=a.$$

\noindent
Для удобства дальнейшего изложения будем использовать привычные обозначения: $|xy|=l$ и $\angle x=a$. Здесь $x$ и $y$ --- предметные аргументы, $l$ и $a$ --- количественные аргументы.


Пусть в выборке даны четырехугольники, описания которых изоморфны (с точностью до значений количественных аргументов) четырехугольникам, изображенным на рис. 3, {\it a}--{\it h}.

%\bigbreak
%\begin{tikzpicture}[thick, scale=0.036]
%%%%%%%%%%%%% не выпуклый %%%%%%%
%\draw (10,70) -- (50,110)--(35,78) -- (50,70)-- cycle;
%\node at (30,62) {a};
%%%%%%%%%%%%% выпуклый %%%%%%%
%\draw (70,70) -- (110,70)--(125,78) -- (110,110)-- cycle;
%\node at (100,62) {b};
%%%%%%%%%%%%% параллелограмм %%%%%%%
%\draw (170,70) -- (210,70)--(250,110) -- (210,110)-- cycle;
%\node at (200,62) {c};
%%%%%%%%%%%%% прямоугольник %%%%%%%
%\draw (300,70) -- (360,70)--(360,110) -- (300,110)-- cycle;
%\node at (330,62) {d};
%
%%%%%%%%%%%%%% квадрат %%%%%%%
%\draw (10,10) -- (50,10)--(50,50) -- (10,50)-- cycle;
%\node at (30,2) {e};
%%%%%%%%%%%%%% ромб %%%%%%%
%\draw (105,10) -- (95,30)--(105,50) -- (115,30)-- cycle;
%\node at (100,2) {f};
%%%%%%%%%%%%%% трапеция %%%%%%%
%\draw (180,10) -- (247,10)--(222,50) -- (199,50)-- cycle;
%\node at (200,2) {g};
%%%%%%%%%%%%%% равнобедренная трапеция %%%%%%%
%\draw (300,10) -- (370,10)--(350,50) -- (320,50)-- cycle;
%\node at (330,2) {h};
%\end{tikzpicture}


%\centerline{{\it Рис. 3.} Виды четырeхугольников в выборке}

%\medbreak

%\vspace{.5cm}


Так как в выборке присутствуют не только выпуклые четырехугольники, %Convex quadrilateral
следует ввести еще один предикат
 $W(x,y,z,w) \Leftrightarrow $ <<один из углов четырeхугольника $(x,y,z,w)$ больше развeрнутого>>. %wide angle
Он позволит на первом же шаге разделить все множество объектов на выпуклые и невыпуклые, так как у первых будет присутствовать литерал вида  $\lnot W(x,y,z,w)$, а у вторых --- литерал вида $W(x,y,z,w)$ (рис. 4). \sloppy{  }

В этом примере не будем дальше рассматривать множество невыпуклых четырехугольников.
В множестве выпуклых четырехугольников все описания содержат литерал $\lnot W(x,y,z,w)$ с двузначным предикатом $W$, поэтому для дальнейшего построения онтологии не будем принимать его во внимание.




\begin{figure}[h!]
\centering{
\includegraphics[scale=1]{03/fig3}

\vskip 2mm {\small{\it Рис. 3.} Вид четырехугольников в выборке} }
\end{figure}

\noindent
\begin{picture}(370,60)

\put(155,35){Четырехугольники}
\put(200,40){\oval(100,20)}

\put(150,30){\vector(-3,-1){30}}

\put(80,10){\oval(145,20)}
\put(10,5){Выпуклые четырехугольники}

%%%%%%%%%%%%%%%%%%%%%%%%

\put(250,30){\vector(3,-1){30}}
\put(280,10){\oval(160,20)}
\put(205,5){Не выпуклые четырехугольники}

\end{picture}

\vspace{.5cm}
\centerline{\small{\it Рис. 4.} Начало построения онтологии}
\vspace{.5cm}
\smallbreak



Ниже количество входящих в формулу $A(\overline{x};\overline{a})$ числовых перeменных будем обозначать посредством $N_A$.

 В общем виде описание выпуклого четырехугольника (т. е. формула, истинная для каждого выпуклого четырехугольника) в выбранной сигнатуре имеет вид
$$\begin{array}{c}
Q(x,y,z,w;l_1,l_2,l_3,l_4;a,b,c,d)\Leftrightarrow \\
\Leftrightarrow |xy|=l_1 ~\&~ |yz|=l_2 ~\&~ |zw|=l_3 ~\&~|wx|=l_4 ~\&~ \\
 ~\&~\angle x=a ~\&~ \angle y=b ~\&~ \angle z=c ~\&~ \angle w=d,
\end{array}
$$
количество входящих в это описание числовых перeменных $N_Q = 8$.

Для параллелограммов:
$$\begin{array}{c}
P(x,y,z,w;l_1,l_2;a)\Leftrightarrow  Q(x,y,z,w;l_1,l_2,l_1,l_2;a,\pi-a,a,\pi-a)\Leftrightarrow \\
\Leftrightarrow |xy|=l_1 ~\&~ |yz|=l_2 ~\&~ |zw|=l_1 ~\&~|wx|=l_2 ~\&~ \\
 ~\&~ \angle x=a ~\&~ \angle y=\pi-a ~\&~ \angle z=a ~\&~ \angle w=\pi-a ,
\end{array}
$$
количество входящих в это описание числовых перeменных $N_{P} = 3$.

Для прямоугольников:
$$\begin{array}{c}
R(x,y,z,w;l_1,l_2;)\Leftrightarrow \\
\Leftrightarrow Q(x,y,z,w;l_1,l_2,l_1,l_2;\frac{\pi}{2},\frac{\pi}{2},\frac{\pi}{2},\frac{\pi}{2})\Leftrightarrow \\
\Leftrightarrow |xy|=l_1 ~\&~ |yz|=l_2 ~\&~ |zw|=l_1 ~\&~|wx|=l_2 ~\&~ \\
~\&~\angle x=\frac{\pi}{2} ~\&~ \angle y=\frac{\pi}{2} ~\&~ \angle z=\frac{\pi}{2} ~\&~ \angle w=\frac{\pi}{2},
\end{array}
$$
количество входящих в это описание числовых перeменных $N_{R} = 2$.

Для квадратов: %Square
$$\begin{array}{c}
S(x,y,z,w;l;)\Leftrightarrow Q(x,y,z,w;l,l,l,l;\frac{\pi}{2},\frac{\pi}{2},\frac{\pi}{2},\frac{\pi}{2})\Leftrightarrow \\
\Leftrightarrow |xy|=l ~\&~ |yz|=l ~\&~ |zw|=l ~\&|wx|=l ~\&~ \\
~\&~ \angle x=\frac{\pi}{2} ~\&~ \angle y=\frac{\pi}{2} ~\&~ \angle z=\frac{\pi}{2} ~\&~ \angle w=\frac{\pi}{2},\\
\end{array}$$
количество входящих в это описание числовых перeменных $N_S = 1$.
\pagebreak


Для ромбов: %Rhombus
$$\begin{array}{c}
Rh(x,y,z,w;l;a)\Leftrightarrow Q(x,y,z,w;l,l,l,l;a,\pi -a,a,\pi -a)\Leftrightarrow \\[1mm]
\Leftrightarrow |xy|=l ~\&~ |yz|=l ~\&~ |zw|=l ~\&~|wx|=l ~\&~ \\[1mm]
~\&~\angle x=a ~\&~ \angle y=\pi -a ~\&~ \angle z=a ~\&~ \angle w=\pi -a,\\
 \end{array}$$
количество входящих в это описание числовых перeменных $N_{Rh} = 2$.

Для трапеций в общем виде\!\!\footnote{На вопрос о том, является ли параллелограм частным случаем трапеции, в разной литературе имеются различные ответы. Будем считать, что это не так, и поэтому добавим конъюнктивный член $l_2\neq l_4$. Если его не писать, то $P(x,y,z,w;l_1,l_2;a) = T(x,y,z,w;l_1,l_2,l_1,l_2;a)$, что соот\-вет\-ст\-вует другой точке зрения и будет построена другая онтология. В частности, на рис. 5, {\it в} будет добавлена стрелка от <<Трапеция>> к <<Параллелограмм>>.}\!\!:
$$\begin{array}{c}
T(x,y,z,w;l_1,l_2,l_3,l_4;a,b)\Leftrightarrow Q(x,y,z,w;l_1,l_2,l_3,l_4;a,\pi-a,b,\pi-b)\Leftrightarrow \\[1mm]
\Leftrightarrow |xy|=l_1 ~\&~ |yz|=l_2 ~\&~ |zw|=l_3 ~\&~|wx|=l_4 ~\&~ \\[1mm]
 ~\&~\angle x=a ~\&~ \angle y=\pi-a ~\&~ \angle z=b ~\&~ \angle w=\pi-b ~\&~\\[1mm]
 ~\&~ l_2\neq l_4,\\
\end{array}$$
количество входящих в это описание числовых перeменных $N_{T} = 6$.

Для равнобедренных трапеций: %($l_1=l_2$ или $l_1\neq l_2$)%Isosceles trapezoid
$$\begin{array}{c}
TI(x,y,z,w;l_1,l_2,l_4;a)\Leftrightarrow Q(x,y,z,w;l_1,l_2,l_1,l_4;a,\pi-a,\pi-a,a)\Leftrightarrow \\[1mm]
 \Leftrightarrow |xy|=l_1 ~\&~ |yz|=l_2 ~\&~ |zw|=l_1 ~\&~|wx|=l_4 ~\&~ \\[1mm]
~\&~\angle x=a ~\&~ \angle y=\pi-a ~\&~ \angle z=\pi-a ~\&~ \angle w=a ~\&~ \\[1mm]
 ~\&~ l_2\neq l_4,\\

\end{array}$$
количество входящих в это описание числовых перeменных $N_{TI} = 4$.

Упорядочим формулы, определяющие выделенные выше объекты, в порядке убывания числа количественных переменных:



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%новая таблица
\begin{table}[h!]
\begin{center}


{\footnotesize

\begin{tabular}{l|c|c|c|c|c|c}

Объект  & & Равнобедренная & Параллело- & & Прямо- & \\

Число & \raisebox{5pt}[1pt]{Трапеция} & трапеция &
грамм & \raisebox{5pt}[1pt]{Ромб} & угольник & \raisebox{5pt}[1pt]{Квадрат} \\


количественных  & & & & & & \\
переменных  & & & & & & \\
в описании  & 6 & 4 & 3 & 2 & 2 & 1 \\


\end{tabular}
}
\end{center}\vspace{-3mm}
\end{table}








Наибольшее число количественных переменных (шесть) имеется в описании трапеции.
Среди  определяющих ее формул есть те, которые соответствуют равнобедренной трапеции. Среди них нет формул, определяющих какие-либо другие объекты. Поэтому имеем часть онтологии, изображенную на рис. 5, {\it а}.

Наибольшее число количественных переменных (три) среди оставшихся описаний --- в описании параллелограмма.
Среди определяющих его формул имеются те, которые задают ромб и прямоугольник (с числом количественных переменных 2).
Поэтому имеем часть онтологии, изображенную на рис. 5, {\it б}.

Во множествах формул, задающих ромб и прямоугольник, есть общее подмножество, задающее квадрат (с числом количественных переменных 1). Поэтому имеем онтологию, изображенную на рис. 5, {\it в}.




\noindent
\begin{picture}(500,110)

\put(30,95){{\it а}}

\put(180,85){Выборка}
\put(200,90){\oval(100,20)}

\put(150,80){\vector(-3,-1){30}}

\put(80,60){\oval(100,20)}
\put(60,55){Трапеция}
\put(80,50){\vector(0,-1){15}}

\put(80,20){\oval(100,30)}
\put(42,22){Равнобедренная}

\put(52,10){ трапеция}

\end{picture}
%\end{center}

%\centerline{ Рис. 5а. Построение онтологии.}
%\vspace{.5cm}


\noindent
\begin{picture}(370,110)

\put(30,95){{\it б}}

\put(180,85){Выборка}
\put(200,90){\oval(100,20)}

\put(150,80){\vector(-3,-1){30}}

\put(80,60){\oval(100,20)}
\put(60,55){Трапеция}
\put(80,50){\vector(0,-1){15}}

\put(80,20){\oval(100,30)}
\put(42,22){Равнобедренная}

\put(52,10){ трапеция}

%%%%%%%%%%%%%%%%%%%%%%%%

\put(250,80){\vector(3,-1){30}}

\put(320,60){\oval(100,20)}
\put(280,55){Параллелограмм}
\put(300,50){\vector(-1,-1){20}}
\put(340,50){\vector(1,-1){20}}

\put(270,20){\oval(60,20)}
\put(260,15){Ромб}

\put(360,20){\oval(80,20)}
\put(322,15){Прямоугольник}

\end{picture}

\noindent
\begin{picture}(370,150)

\put(30,135){{\it в}}

\put(180,125){Выборка}
\put(200,130){\oval(100,20)}

\put(150,120){\vector(-3,-1){30}}

\put(80,100){\oval(100,20)}
\put(60,95){Трапеция}
\put(80,90){\vector(0,-1){15}}

\put(80,60){\oval(100,30)}
\put(42,62){Равнобедренная}

\put(52,50){ трапеция}

%%%%%%%%%%%%%%%%%%%%%%%%

\put(250,120){\vector(3,-1){30}}

\put(320,100){\oval(100,20)}
\put(280,95){Параллелограмм}
\put(300,90){\vector(-1,-1){20}}
\put(340,90){\vector(1,-1){20}}

\put(270,60){\oval(60,20)}
\put(260,55){Ромб}

\put(360,60){\oval(80,20)}
\put(322,55){Прямоугольник}

\put(280,50){\vector(1,-1){20}}
\put(360,50){\vector(-1,-1){20}}

\put(320,20){\oval(80,20)}
\put(302,15){Квадрат}

\end{picture}
\begin{center}
\centering{\small{\it Рис. 5.} Построение онтологии
 (объяснение в тексте) }

\end{center}


%\centerline{ Рис. 5б. Построение онтологии.}
%\vspace{.5cm}

Продемонстрируем возможность расширения онтологии при выделении в выборке еще одного множества.

Имеется еще одно интересное множество четырехугольников --- дельтоиды. Их описания образуют множество формул, которое может содержаться в описании четырехугольников в другой выборке и не совпадать ни с одним из перечисленных выше. Типичный представитель дельтоидов изображен на рис. 6.



%\begin{center}
%\begin{picture}(60,35)
%%%%%%%%%%%% дельтоид %%%%%%%%%%%%%
%\put(25,5){\line(-2,1){10}}
%\put(25,5){\line(2,1){10}}
%\put(25,30){\line(1,-2){10}}
%\put(25,30){\line(-1,-2){10}}
%%%%%\put(35,2){g}
%\end{picture}
%\end{center}
%\centerline{\small{\it Рис. 6.} Дельтоид}
%\vspace{.5cm}


\begin{figure}[h!]
\centering{
\includegraphics[scale=2.5]{03/fig6}

\vskip 2mm {\small{\it Рис. 6.} Дельтоид} }
\end{figure}








Описания этих объектов удовлетворяют формулам
$$\begin{array}{c}
D(x,y,z,w;l_1,l_2;a,b,c)\Leftrightarrow Q(x,y,z,w;l_1,l_2,l_2,l_1;a,b,c,a)\Leftrightarrow \\
\Leftrightarrow |xy|=l_1 ~\&~ |yz|=l_2 ~\&~ |zw|=l_2 ~\&~|wx|=l_1 ~\&~\angle x = \\
= \, a ~\&~ \angle y=b ~\&~ \angle z=c ~\&~ \angle w=a\\
 \end{array}$$
при $l_1=l_2$ и  $l_1\neq l_2$ (и как следствие при $a=c$ и  $a\neq c$ соответственно).


У дельтоида число количественных переменных $N_D= 5$. Поэтому в онтологии это множество четырехугольников сформируется после множества трапеций. Кроме того, если $l_1=l_2$, то не только $a=c$, но и $a=c= \pi -b$. Следовательно, ромб является частным случаем дельтоида. Поэтому имеем онтологию, изображенную на рис. 7.



\noindent
\begin{picture}(370,150)

\put(180,125){Выборка}
\put(200,130){\oval(100,20)}

\put(150,120){\vector(-3,-1){30}}
\put(250,120){\vector(3,-1){30}}
\put(200,120){\vector(0,-1){10}}

\put(80,100){\oval(100,20)}
\put(60,95){Трапеция}
\put(80,90){\vector(0,-1){15}}

\put(80,60){\oval(100,30)}
\put(42,62){Равнобедренная}

\put(52,50){ трапеция}
%%%%%%%%%%%%%%%%%%%%%%%%

\put(320,100){\oval(100,20)}
\put(280,95){Параллелограмм}
\put(300,90){\vector(-1,-1){20}}
\put(340,90){\vector(1,-1){20}}

\put(270,60){\oval(60,20)}
\put(260,55){Ромб}

\put(360,60){\oval(80,20)}
\put(322,55){Прямоугольник}

\put(280,50){\vector(1,-1){20}}
\put(360,50){\vector(-1,-1){20}}

\put(320,20){\oval(80,20)}
\put(302,15){Квадрат}

\put(180,95){Дельтоид}
\put(200,100){\oval(100,20)}
\put(200,90){\vector(2,-1){43}}

\end{picture}

\centerline{\small{\it Рис. 7.} Расширение онтологии}
\vspace{.5cm}

%\bigskip
{\bf 6. Заключение.}
В статье описываются постановки трех задач построения логической онтологии в зависимости от того, заданы или нет множества объектов, для которых требуется установить наследственные связи. Для постановки задачи, в которой такие множества заданы, рассмотрены случаи двузначных и многозначных предикатов.

Задача построения логической онтологии, в постановке которой заранее не известны множества объектов, входящих в онтологию и описанных с помощью многозначных предикатов, является наиболее сложной. По-видимому, ее можно свести к~по\-строению онтологии, учитывающей только двузначные признаки, а затем внутри каждого из полученных множеств строить онтологию на основе многозначных признаков. При этом возникает задача объединения онтологий.

В дальнейшем внимание будет уделено детальной проработке решения последней задачи.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newpage
\input{03/lit-ra}

%\newpage
\input{03/ref-s}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%{\footnotesize

%\thispagestyle{empty}
%
\vskip 3mm
%
\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~18.~Вып.~\issuenum}}
\hfill}%
\fancyfoot[RE]{\hfill\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~18.~Вып.~\issuenum}}}%
% для оформления нижнего колонтитула
\cfoot{} %


%}
