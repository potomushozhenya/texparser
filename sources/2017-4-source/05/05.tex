


\zagol{519.87}{Н.~К.~Кривулин$^1$,
С.~А.~Губанов$^2$}{ИСПОЛЬЗОВАНИЕ МЕТОДОВ ТРОПИЧЕСКОЙ ОПТИМИЗАЦИИ\\
В ЗАДАЧАХ СЕТЕВОГО ПЛАНИРОВАНИЯ$^{*}$ }{



\vspace{-3mm}\parindent=7mm



%{\copyright} А.~В.~Буре, 2014

\emph{Кривулин Николай Кимович} --- доктор физико-математических
наук, профессор;\\ nkk@math.spbu.ru


\emph{Губанов Сергей Александрович} --- программист;
segubanov@mail.ru






\vskip 2.0mm


\emph{Krivulin Nikolai Kimovich} --- doctor of physical and
mathematical sciences, professor;\\ nkk@math.spbu.ru

\emph{Gubanov Sergey Aleksandrovich} --- programmer;
segubanov@mail.ru





\vskip 2.0mm



$^{*}$ Работа выполнена при финансовой поддержке Российского
гуманитарного научного фонда (проект №~16-02-00059).

{\copyright} Санкт-Петербургский государственный университет,
\issueyear%
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
%\fancyfoot[LO]{{\footnotesize\emph{\doivyp07 } }\hfill\thepage}%
\fancyfoot[LO]{{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum05 } }\hfill\thepage}%
%\fancyfoot[RE]{\thepage\hfill{\footnotesize\emph{\doivyp07 } } }%
\fancyfoot[RE]{\thepage\hfill{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum05}}}%
%\fancyfoot[LO]{\hfill{\fontsize{10.5}{10.5}\selectfont \thepage}}%
%\fancyfoot[RE]{{\fontsize{10.5}{10.5}\selectfont \thepage}\hfill}%
%\lhead{} %верхний колонтитул слева
%%\rhead{} % верхний колонтитул справа
% для оформления нижнего колонтитула
\cfoot{} %
%\lfoot{} %
%\rfoot{\thepage} %



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


{\footnotesize



\noindent $^1$~Санкт-Петербургский государственный университет,
Российская Федерация,

\noindent\hskip2.45mm 199034, Санкт-Петербург, Университетская
наб., 7--9




\noindent $^2$~Санкт-Петербургский филиал АО <<КБ ``Луч''>>,
Российская Федерация,

\noindent\hskip2.45mm 197376, Санкт-Петербург, ул. Академика
Павлова, 14А





\vskip2.0mm


\begin{list}{}{\leftmargin=7mm \rightmargin=7mm \listparindent=5mm}


\item Статья посвящена решению задач сетевого
планирования с~использованием методов тропической оптимизации.
Исследуются задачи составления оптимального плана сроков
реа\-лизации проекта, который состоит в~выполнении некоторого
набора взаимосвязанных\linebreak работ при заданных ограничениях
на~время их начала и завершения. Рассматриваются критерии
оптимальности плана, при которых требуется максимизировать разброс
време\-ни начала или завершения работ. Такие задачи появляются при
необходимости по~тем или иным причинам (недостаток ресурсов,
технологические ограничения, требования безопасности и~т.~п.)
по~возможности избежать одновременного начала или завершения всех
работ проекта. Сначала формулируются задачи планирования в~виде
обычных задач оптимизации с~ограничениями. Далее приводятся
определения и~результаты тропической математики, которые
применяются в~последующем анализе и~решении задач тропической
оптимизации. Описываются новые задачи тропической оптимизации
с~ограничениями и~находятся их решения. Задачи планирования
решаются путем их сведения к~задачам тропической оптимизации.
Построены новые решения задач планирования, которые в~отличие
от~существующих алгоритмических решений дают результат в~виде
прямых расчетных формул в~компактном векторном представлении,
удобных для дальнейшего анализа и~практических расчетов. Для
иллюстрации полученных результатов представлены численные примеры.
Библиогр. 15 назв.

{\it Ключевые слова}: тропическая математика, идемпотентное
полуполе, тропическая оптимизация, управление проектами, сетевое
планирование.

\end{list}

}

\vskip3mm

\begin{list}{}{\leftmargin=7mm \rightmargin=7mm \listparindent=5mm}

\noindent{\it N.~K.~Krivulin$^1$, S.~A.~Gubanov$^2$}

\vskip3mm \noindent{\bf THE USE OF TROPICAL OPTIMIZATION METHODS
\\ IN PROBLEMS OF PROJECT SCHEDULING}

\vskip3mm


{\footnotesize



\noindent $^1$ St.~Petersburg State University, 7--9,
Universitetskaya nab., St.~Petersburg,

\noindent\hskip2.45mm 199034, Russian Federation



\noindent $^2$ St.~Petersburg Office ``KB Lutch'', 14A, ul.
Academician Pavlov, St.~Petersburg,

\noindent\hskip2.45mm 197376, Russian Federation




\vskip2.0mm


\item The paper is devoted to the solution of problems in project scheduling by
using methods of tropical optimization. Problems are examined that
are to develop an optimal schedule for a project consisting in the
execution of a set of interrelated tasks under given constraints
on their initiation and completion time. The optimal schedule
criteria are considered, which require the maximization of the
deviation of the initiation or the deviation of the completion
time of tasks. Such problems arise when, for some reason (such as
a lack of resources, technical constraints, security requirements,
and the like), there is a need to avoid a simultaneous start or
finish for all tasks in the project. The paper begins with the
formulation of scheduling problems in the form of usual
optimization problems. Then, definitions and results of tropical
mathematics are given, which are used in the subsequent analysis
and solution of tropical optimization problems. New constrained
problems of tropical optimization are considered, and their
solutions are obtained. The scheduling problems are solved by
reducing to tropical optimization problems. To illustrate the
results obtained, numerical examples are presented. Refs 15.

\textit{Keywords}: tropical mathematics, idempotent semifield,
tropical optimization, project management, project scheduling.


}

\end{list}


\vskip2mm

{\bfseries 1.~Введение.} Под управлением проектом обычно
понимается согласование действий, выполняемых  для достижения
целей проекта при разумном распределении имею\-щих\-ся ресурсов.
Одним из подходов к~управлению временем выполнения (со\-ставлению
графика работ) проекта служит применение методов сетевого
планиро\-вания, базирующихся на~теории графов (например, метод
критического пути или метод оценки и~пересмотра планов [1]).
Перспективным способом решения задач сетевого планирования
является их сведение к~задачам тропической оптимизации [2--4].

Тропическая (идемпотентная) математика изучает полукольца
с~идемпотентным сложением [5--9]. Задачи тропической оптимизации
обычно задаются в~терминах минимизации  (максимизации) функций,
определенных на~векторах над идемпотентными полуполями
(идемпотентными полукольцами, в~которых умножение обратимо)  при
ограничениях в~виде тропических линейных уравнений и~неравенств.

Цель настоящей работы --- представить новые способы решения задач
сетевого планирования на~основе методов тропической математики,
опирающиеся на~результаты работ [10--14]. В~частности, в~статье
[14] задача сетевого планирования заключалась в~минимизации
разброса времени завершения всех работ. Ниже рассматриваются
задачи составления оптимального плана сроков выполнения работ
в~соответствии с~кри\-те\-рия\-ми максимума разброса времени
начала или завершения работ. Такие задачи появляются при
необходимости по~тем или иным причинам (недостаток ресурсов,
технологические ограничения, требования безопасности и~т.~п.)
по~возможности избежать одновременного начала или завершения всех
работ проекта.

Статья организована следующим образом. В~п.~2 формулируются
исследуемые задачи сетевого планирования, для которых определяются
критерии оптимальности и~задаются ограничения. В~п.~3 приводятся
основные определения, обозначения и~предварительные результаты
идемпотентной математики, необходимые для анализа и~решения задач
тропической оптимизации. В~п.~4 описываются новые задачи
тропической оптимизации с~ограничениями, для которых предлагаются
прямые решения в~явном виде. В~п.~5 полученные результаты
применяются к~задачам сетевого планирования, которые формулируются
и решаются как задачи тропической оптимизации. Приводятся примеры
численного решения рассматриваемых задач.

%\section{Задачи сетевого планирования}
{\bfseries 2.~Задачи сетевого планирования.} Рассмотрим задачи
оптимизации, которые возникают при планировании сроков начала
и~завершения работ различных проектов и~сводятся к~максимизации
некоторой целевой функции при ограничениях в~форме равенств
и~неравенств. Целевая функция определяется критерием оптимальности
плана, а~ограничения задаются условиями на~время начала
и~завершения работ проекта. В~этих задачах целевая функция
и~ограничения выражаются при помощи операций максимума, сложения
и~вычитания.

Пусть имеется проект, состоящий в~выполнении $n$ работ  при
ограничениях типа <<старт-финиш>>, <<старт-старт>>, <<поздний
финиш>> и~<<ранний старт>>. Ограничение <<старт-финиш>>
не~позволяет завершить работу, пока не~прошло определенное время
после начала других работ. Минимальный допустимый интервал между
временем начала одной работы и~временем начала другой задается
ограничением <<старт-старт>>. Ограничение <<ранний старт>>
обусловливает самое раннее возможное время начала, а~ограничение
<<поздний финиш>> указывает наиболее позднее возможное время
завершения работы. Будем считать, что каждая работа заканчивается
немедленно, как только будут выполнены все заданные ограничения
на~время ее завершения.

%\subsection{Ограничения на~время выполнения работ}
{\bfseries\itshape 2.1.~Ограничения на~время выполнения работ.}
Запишем определенные выше ограничения в~формальном виде. Для
каждой работы $i=1,\ldots,n$  введем обозначения: $x_{i}$ ---
время начала работы; $y_{i}$ --- время завершения работы; $a_{ij}$
--- минимальный промежуток времени между началом работы
$j=1,\ldots,n$ и~завершением работы $i$, если величина интервала
$a_{ij}$ не~задана, полагаем $a_{ij}=-\infty$; $b_{ij}$ ---
минимальный промежуток времени между началом работы $j$ и~началом
$i$, если интервал $b_{ij}$ не~задан, то~считаем, что
$b_{ij}=-\infty$; $g_{i}$ --- наиболее раннее возможное время
начала работы; $h_{i}$ --- наиболее позднее возможное время
завершения работы.

Ограничения  типа <<старт-финиш>> выполняются для работы $i$,
когда справедливы неравенства
$$
a_{ij} + x_{j}\leq y_{i}, \quad j=1,\ldots,n.
$$

Учитывая, что работа завершается немедленно при выполнении этих
ограничений, хотя бы одно из~неравенств выполняется как равенство.
Тогда эти неравенства эквивалентны следующему условию:
\begin{equation*}
\begin{aligned}
\max_{1\leq j\leq n}\left(a_{ij}+x_{j}\right) = y_{i}.
\end{aligned}
\end{equation*}

Ограничения типа <<старт-старт>> описываются с~помощью неравенств
$$
b_{ij} + x_{j} \leq x_{i}, \quad j=1,\ldots,n,
$$
которые можно объединить в~одно неравенство
\begin{equation*}
\begin{aligned}
\max_{1\leq j\leq n} \left( b_{ij} + x_{j} \right) \leq x_{i}.
\end{aligned}
\end{equation*}

Ограничения <<ранний старт>> и~ <<поздний финиш>> для работы $i$
определяются при помощи неравенств
$$
x_{i} \geq
 g_{i},
\quad
 y_{i}
\leq h_{i}.
$$

%\subsection{Критерии оптимальности и~задачи планирования}
{\bfseries\itshape 2.2.~Критерии оптимальности и~задачи
планирования.} В~задачах составления оптимального плана проекта
при необходимости избежать одновременного начала или завершения
работ можно рассматривать следующие критерии оптимальности,
которые требуется максимизировать. Одним из~критериев является
максимальный разброс времени начала всех работ:
\begin{equation*}
\begin{aligned}
\max_{1\leq i\leq n}x_{i} - \min_{1\leq i\leq n}x_{i} =
\max_{1\leq i\leq n}x_{i} + \max_{1\leq i\leq
n}\left(-x_{i}\right).
\end{aligned}
\end{equation*}
Другой критерий задает максимальный разброс времени завершения:
\begin{equation*}
\begin{aligned}
\max_{1\leq i\leq n}y_{i} - \min_{1\leq i\leq n}y_{i} =
\max_{1\leq i\leq n}y_{i} + \max_{1\leq i\leq
n}\left(-y_{i}\right).
\end{aligned}
\end{equation*}

Рассмотрим примеры задач сетевого планирования с~описанными выше
усло\-виями предшествования и~критериями оптимальности. Подобные
задачи изучались, например, в~работе [15].

Предположим, что заданы ограничения <<старт-старт>> и~<<ранний
старт>>. В~ситуации нехватки ресурсов (например, людей меньше, чем
задач) часто нужно распределить время начала выполнения работ
на~максимально большом интервале. Для составления графика работ
при этих условиях необходимо решить задачу
\begin{equation}
\begin{aligned}
& \max && (\max_{1\leq i\leq n}x_{i} + \max_{1\leq i\leq
n}\left(-x_{i}\right)),
\\
& && \max_{1\leq j\leq n}\left(b_{ij} + x_{j}\right) \leq x_{i},
\quad g_{i} \leq x_{i}, \quad i=1,\ldots,n.
\end{aligned}
\label{P-maxyimaxxixi}
\end{equation}

Пусть заданы ограничения типа <<старт-старт>>, <<старт-финиш>>
и~<<поздний финиш>>. В~случае, когда требуется по~возможности
избежать одновременного завершения всех работ, может оказаться
полезным потребовать распределить время их завершения
на~максимально большом интервале. Такую задачу можно записать
таким образом:
\begin{equation}
\begin{aligned}
& \max && (\max_{1\leq i\leq n}y_{i} + \max_{1\leq i\leq
n}\left(-y_{i}\right)),
\\
& && \max_{1\leq j\leq n}\left(b_{ij}+x_{j}\right) \leq x_{i},
\quad \max_{1\leq j\leq n}\left(a_{ij}+x_{j}\right) = y_{i}, \quad
y_{i} \leq h_{i}, \quad i=1,\ldots,n.
\end{aligned}
\label{P-maxyimaxyixjcijxixjaijyi}
\end{equation}

Заметим, что задачи \eqref{P-maxyimaxxixi}
и~\eqref{P-maxyimaxyixjcijxixjaijyi} можно представить как задачи
линейного программирования, а~затем найти их численные решения
путем применения одного из~известных итерационных алгоритмов,
например алгоритма симплекс-метода. На~основе применения методов
тропической математики будут получены прямые решения этих задач
в~явном виде в~компактной векторной форме.


%\section{Элементы тропической математики}
{\bfseries 3.~Элементы тропической математики.} Приведем краткий
обзор основных алгебраических определений, обозначений
и~предварительных результатов [8, 11--13], которые потребуются для
последующей формулировки и~решения задач тропической оптимизации.
Дополнительную информацию можно найти, например, в~работах
[5--7,~9].

%\subsection{Идемпотентное полуполе}
{\bfseries\itshape 3.1.~Идемпотентное полуполе.} Рассмотрим
множество  $\mathbb{X}$, которое замкнуто  относительно
ассоциативных и~коммутативных операций сложения $\oplus$
и~умножения $\otimes$ и~содержит их нейтральные элементы: нуль
$\mathbb{0}$ и~единицу $\mathbb{1}$. Сложение обладает свойством
идемпотентности ($x\oplus x=x$ для всех $x\in\mathbb{X}$),
а~умножение дистрибутивно относительно сложения и~обратимо (каждый
$x\in\mathbb{X}_{+}$, где
$\mathbb{X}_{+}=\mathbb{X}\setminus\{\mathbb{0}\}$, имеет обратный
$x^{-1}$, удовлетворяющий равенству $x^{-1}\otimes x=\mathbb{1}$).
Так как $\mathbb{X}_{+}$ образует группу по~умножению,
алгебраическую структуру
$\langle\mathbb{X},\mathbb{0},\mathbb{1},\oplus,\otimes\rangle$
обычно называют идемпотентным полуполем. Для упрощения записи знак
умножения $\otimes$ далее   опускается.

Для любого $x\in\mathbb{X}_{+}$ и~целого положительного $p$
положим $x^{0}=\mathbb{1}$, $x^{p}=x^{p-1}x$,
$x^{-p}=(x^{-1})^{p}$, $\mathbb{0}^{p}=\mathbb{0}$. Идемпотентное
сложение задает следующий частичный порядок: $x\leq y$ тогда
и~только тогда, когда $x\oplus y=y$. Символы отношения и~задачи
максимизации понимаются в~контексте этого порядка. Операции
полуполя --- монотонныe, т.~е. из~неравенства $x\leq y$ следуют
неравенства $x\oplus z\leq y\oplus z$ и~$xz\leq yz$ для любого
$z\in\mathbb{X}$. Считаем, что указанный частичный порядок
дополнен до линейного порядка на~$\mathbb{X}$.

Примерами рассматриваемого идемпотентного полуполя являются
вещественные полуполя
$\mathbb{R}_{\max,+}=\langle\mathbb{R}\cup\{-\infty\},-\infty,0,\max,+\rangle$,
$\mathbb{R}_{\min,+}=\langle\mathbb{R}\cup\{+\infty\},+\infty,0,\min,+\rangle$,
$\mathbb{R}_{\max,\times}=\langle\mathbb{R}_{+}\cup\{0\},0,1,\max,\times\rangle$
и~$\mathbb{R}_{\min,\times}=\langle\mathbb{R}_{+}\cup\{+\infty\},+\infty,1,\min,\times\rangle$,
где $\mathbb{R}$ --- множество вещественных чисел,
$\mathbb{R}_{+}=\{x\in\mathbb{R}|x>0\}$.

В полуполе $\mathbb{R}_{\max,+}$ нуль $\mathbb{0}$ определен как
$-\infty$, а~единица $\mathbb{1}$ --- как $0$. Любой элемент
$x\in\mathbb{R}$ имеет обратный $x^{-1}$, которому соответствует
$-x$ в~стандартных обозначе\-ниях. Для всех $x,y\in\mathbb{R}$
степень $x^{y}$ совпадает с~арифметическим произведением $xy$.
Отношение порядка, определяемое идемпотентным сложением, отвечает
обычному отношению линейного порядка на~$\mathbb{R}$.

%\subsection{Матрицы и~векторы}
{\bfseries\itshape 3.2.~Матрицы и~векторы.} Пусть
$\mathbb{X}^{m\times n}$ --- множество матриц, состоящих из~$m$
строк и~$n$ столбцов с~элементами из~$\mathbb{X}$. Нулевой
матрицей в~$\mathbb{X}^{m\times n}$ является матрица со~всеми
элементами, равными $\mathbb{0}$. Регулярной по~строкам (по
столбцам) называется матрица без нулевых строк (столбцов). Матрица
регулярна, если она регулярна по~строкам и~по~столбцам.

Сложение и~умножение согласованных по~размеру матриц, а~также
умножение матрицы на~скаляр выполняются по~обычным правилам
с~заменой арифметических сложения и~умножения на~операции $\oplus$
и $\otimes$. Эти операции обладают свойством монотонности, которое
заключается в~том, что из~поэлементного неравенства
$\bm{A}\leq\bm{B}$ следуют поэлементные неравенства
$\bm{A}\oplus\bm{C}\leq\bm{B}\oplus\bm{C}$, $\bm{AD}\leq\bm{BD}$
и~$x\bm{A}\leq x\bm{B}$ для всех матриц $\bm{A}$, $\bm{B}$,
$\bm{C}$ и~$\bm{D}$ соответствующего размера и~скаляра $x$.

Для любой матрицы $\bm{A}$ ее транспонированная матрица
обозначается через $\bm{A}^{T}$.

Для каждой матрицы $\bm{A} = (a_{ij}) \in\mathbb{X}^{m\times n}$
введем мультипликативно сопряженную матрицу $\bm{A}^{-} =
(a_{ij}^{-})\in\mathbb{X}^{n\times m}$, где
$a_{ij}^{-}=a_{ji}^{-1}$, если $a_{ji}\ne\mathbb{0}$,
и~$a_{ij}^{-} = \mathbb{0}$ --- иначе.

Рассмотрим квадратные матрицы в~$\mathbb{X}^{n\times n}$.
Единичной называется матрица с~элементами, равными $\mathbb{1}$
на~диагонали и~$\mathbb{0}$ --- вне ее, которая обозначается через
$\bm{I}$.

След матрицы $\bm{A}=(a_{ij})$ вычисляется по~формуле
$\mathop\mathrm{tr}\bm{A}=a_{11}\oplus\cdots\oplus a_{nn}$.

Введем функцию
$$
\mathop\mathrm{Tr}\left(\bm{A}\right) =
\mathop\mathrm{tr}\bm{A}\oplus\cdots\oplus\mathop\mathrm{tr}\bm{A}^{n}.
$$

Если $\mathop\mathrm{Tr}(\bm{A})\leq\mathbb{1}$, то~определим
матрицу, которую обычно называют матрицей Клини:
$$
\bm{A}^{\ast} = \bm{I}\oplus\bm{A}\oplus\cdots\oplus\bm{A}^{n-1}.
$$

Если все элементы матрицы выше или ниже диагонали равны
$\mathbb{0}$, то~матрица треугольная. Матрица является разложимой,
если ее можно привести к~блочно-тре\-угольной форме путем
перестановки строк вместе с~такой же перестановкой столбцов. Иначе
матрица называется неразложимой. Матрица с~регулярными столбцами
(строками) включает только ненулевые элементы и~потому
неразложимая. Нетрудно понять, что для любой неразложимой матрицы
ее матрица Клини не~имеет нулевых элементов.

Обозначим  через $\mathbb{X}^{n}$ множество вектор-столбцов
размерности $n$.

Вектор $\bm{0} = (\mathbb{0},\ldots,\mathbb{0})^{T}$, все
компоненты которого равны $\mathbb{0}$, нулевой. Вектор без
нулевых компонент называется регулярным.

Вектор, состоящий из~единиц, обозначается  $\bm{1} =
(\mathbb{1},\ldots,\mathbb{1})^{T}$.

Для любого ненулевого вектора $\bm{x}=(x_{i})\in\mathbb{X}^{n}$
определим мультипликативно сопряженную  вектор-строку
$\bm{x}^{-}=(x^{-}_{i})$, где $x_{i}^{-}=x_{i}^{-1}$, если
$x_{i}\ne\mathbb{0}$, и~$x_{i}^{-}=\mathbb{0}$ --- иначе.


%\subsection{Решение векторных неравенств}
{\bfseries\itshape 3.3.~Решение векторных неравенств.}
Предположим, что заданы некоторые матрица
$\bm{A}\in\mathbb{X}^{m\times n}$ и~вектор
$\bm{b}\in\mathbb{X}^{m}$. Рассмотрим задачу решения относительно
неизвестного вектора $\bm{x}\in\mathbb{X}^{n}$ неравенства
\begin{equation}
\begin{aligned}
\bm{A}\bm{x}\leq\bm{b}.
\end{aligned}
\label{I-Axb}
\end{equation}

Решение задачи дает следующее утверждение.

%\begin{lemma}[\(\cite{Krivulin2009Methods}\)]
{\bfseries Лемма~1} [8]. {\itshape
%\label{L-Axb}
Для регулярной по~столбцам матрицы $\bm{A}$ и~регулярного вектора
$\bm{b}$ вектор $\bm{x}$ является решением неравенства
\eqref{I-Axb} тогда и~только тогда, когда
\begin{equation*}
\bm{x}\leq(\bm{b}^{-}\bm{A})^{-}.
\end{equation*}
\par}
%\end{lemma}

Пусть для заданных матрицы $\bm{A}\in\mathbb{X}^{n\times n}$
и~вектора $\bm{b}\in\mathbb{X}^{n}$ требуется найти регулярные
векторы $\bm{x}\in\mathbb{X}$, которые удовлетворяют неравенству
\begin{equation}
\bm{A}\bm{x} \oplus \bm{b} \leq \bm{x}. \label{I-Axbx}
\end{equation}

Для решения этого неравенства можно применить следующий результат.

%\begin{lemma}[\(\cite{Krivulin2013Amultidimensional}\)]
{\bfseries Лемма~2} [11]. {\itshape
%\label{L-Axbx}
Пусть $\bm{x}$ --- общее регулярное решение неравенства
\eqref{I-Axbx}. Тогда справедливы утверждения$:$
%\begin{enumerate}
%\item[1)]

1) если $\mathop{\mathrm{Tr}}(\bm{A})\leq\mathbb{1}$,
то~$\bm{x}=\bm{A}^{\ast}\bm{u}$ для любого регулярного вектора
$\bm{u}\geq\bm{b};$
%\item[2)]

2) если $\mathop{\mathrm{Tr}}(\bm{A})>\mathbb{1}$, то~регулярных
решений не~существует.
%\end{enumerate}
\par}
%\end{lemma}

При $\bm{b}=\bm{0}$ неравенство \eqref{I-Axbx} принимает вид
\begin{equation*}
\bm{A}\bm{x} \leq \bm{x},
\end{equation*}
решение которого находится как прямое следствие леммы~2.%\ref{L-Axbx}.


%\section{Задачи тропической оптимизации}
{\bfseries 4.~Задачи тропической оптимизации.} Методы тропической
математики применяются при решении различных задач размещения
объектов, сетевого планирования, принятия решений и~др. В~работах
[2--4] приводится решение задач сетевого планирования посредством
сведения их к~задачам тропической оптимизации. Рассмотрим пример
такой задачи оптимизации.

Даны матрица $\bm{A}\in\mathbb{X}^{n\times n}$ и~векторы
$\bm{p},\bm{q}\in\mathbb{X}^{n}$. Необходимо найти регулярные
векторы $\bm{x}\in\mathbb{X}^{n}$, которые решают задачу
\begin{equation}
\begin{aligned}
& \max && \bm{q}^{-}\bm{x}(\bm{A}\bm{x})^{-}\bm{p}.
\end{aligned}
\label{P-maxqBxAxp}
\end{equation}

В работе [13] предлагается такое решение.

%\begin{theorem}\label{T-maxqBxAxp}
{\bfseries Теорема~1.} {\itshape Предположим, что матрица
$\bm{A}=(\bm{a}_{j})$ имеет регулярные столбцы
$\bm{a}_{j}=(a_{ij})$, а~векторы $\bm{p}=(p_{j})$
и~$\bm{q}=(q_{j})$ являются регулярными.

Тогда максимум в~задаче \eqref{P-maxqBxAxp} равен
$\Delta=\bm{q}^{-}\bm{A}^{-}\bm{p}$ и~достигается тогда и~только
тогда, когда вектор $\bm{x}=(x_{j})$ имеет компоненты
\begin{equation*}
x_{k} = \alpha a_{sk}^{-1}p_{s}, \quad x_{j} \leq \alpha
a_{sj}^{-1}p_{s}, \quad j\ne k,
\end{equation*}
для всех $\alpha>\mathbb{0}$ и~индексов $k$ и~$s$, определяемых
условиями
\begin{equation*}
k = \arg\max_{1\leq j\leq n}{q}^{-1}_{j}\bm{a}_{j}^{-}\bm{p},
\quad s = \arg\max_{1\leq j\leq n}a_{jk}^{-1}p_{j}.
\end{equation*}
\par}
%\end{theorem}


%\subsection{Задача с~дополнительным ограничением-неравенством}
{\bfseries\itshape 4.1.~Задача с~дополнительным
ограничением-неравенством.} Пусть имеют\-ся матрицы
$\bm{A},\bm{B}\in\mathbb{X}^{n\times n}$ и~векторы
$\bm{p},\bm{q},\bm{g}\in\mathbb{X}^{n}$. Рассмотрим задачу,
которая получена добавлением к~задаче \eqref{P-maxqBxAxp}
ограничения $\bm{B}\bm{x}\oplus\bm{g}\leq\bm{x}$ и~имеет вид
\begin{equation}
\begin{aligned}
& \max && \bm{q}^{-}\bm{x}\left(\bm{A}\bm{x}\right)^{-}\bm{p},
\\
&&& \bm{B}\bm{x}\oplus\bm{g} \leq \bm{x}.
\end{aligned}
\label{P-maxqxAxp-Bxgx}
\end{equation}

Докажем следующую теорему.

%\begin{theorem}\label{T-maxqxAxp-Bxgx}
{\bfseries Теорема~2.} {\itshape Пусть матрицы $\bm{A}$ и~$\bm{B}$
 такие, что $\mathop{\mathrm{Tr}}(\bm{B})\leq\mathbb{1}$ и~матрица $\bm{D} = \bm{AB}^{\ast}$ имеет регулярные столбцы
$\bm{d}_{j}=(d_{ij})$, где $\bm{B}^{\ast}=(\bm{b}_{j}^{\ast})$ ---
матрица Клини. Предположим, что векторы $\bm{p}=(p_j)$
и~$\bm{q}=(q_j)$ регулярны.

Тогда максимум в~задаче \eqref{P-maxqxAxp-Bxgx} равен
$\Delta=\bm{q}^{-}\bm{B}^{\ast}\bm{D}^{-}\bm{p}$ и~достигается
тогда и~только тогда, когда $\bm{x} = \bm{B}^{\ast}\bm{u}$, где
$\bm{u} = (u_{j})$ --- любой вектор с~компонентами
\begin{equation*}
u_{k} = \alpha {d}_{sk}^{-1}{p}_{s}, \quad g_{j} \leq u_{j} \leq
\alpha d_{sj}^{-1}p_{s}, \quad j\ne k,
\end{equation*}
при условии, что
\begin{equation*}
\alpha \geq \max_{1\leq j\leq n} g_{j}d_{sj}q_{s}^{-1}, \quad k =
\arg\max_{1\leq j\leq
n}\bm{q}^{-}\bm{b}^{\ast}_{j}\bm{d}_{j}^{-}\bm{p}, \quad s =
\arg\max_{1\leq j\leq n}d_{jk}^{-1}p_{j}.
\end{equation*}
\par}
%\end{theorem}

%\begin{proof}
Д\,о\,к\,а\,з\,а\,т\,е\,л\,ь\,с\,т\,в\,о. Сначала заметим, что для
неравенства $\bm{B}\bm{x}\oplus\bm{g}\leq\bm{x}$ выполняется
условие леммы~2. Заменим это неравенство на~его решение
$\bm{x}=\bm{B}^{\ast}\bm{u}$, где $\bm{u}$ --- любой регулярный
вектор такой, что $\bm{u}\geq\bm{g}$.

В результате подстановки этого решения с~заменой $\bm{AB}^{\ast}$
на $\bm{D}$ получим задачу относительно неизвестного вектора
$\bm{u}$ в~следующем виде:
\begin{equation}
\begin{aligned}
& \max &&
\bm{q}^{-}\bm{B}^{\ast}\bm{u}\left(\bm{D}\bm{u}\right)^{-}\bm{p},
\\
& && \bm{u} \geq \bm{g}.
\end{aligned}
\label{P-maxqBuDup-ugeqg}
\end{equation}

Рассмотрим задачу \eqref{P-maxqBuDup-ugeqg} без учета ограничения $\bm{u}\geq\bm{g}$. Матрица $\bm{D}=\bm{AB}^{\ast}$ имеет регулярные столбцы. Из~регулярности вектора $\bm{q}$ следует, что вектор $\bm{q}^{-}\bm{B}^{\ast}$ регулярен. Применяя теорему~1, %\ref{T-maxqBxAxp},
получим, что максимум в~такой задаче равен
$\Delta=\bm{q}^{-}\bm{B}^{\ast}\bm{D}^{-}\bm{p}$ и~достигается
тогда и~только тогда, когда вектор $\bm{u}$ имеет компоненты
\begin{equation}
u_{k} = \alpha{d}_{sk}^{-1}{p_s}, \quad u_{j} \leq \alpha
d_{sj}^{-1}p_{s}, \quad j\ne k, \label{E-uk-uj}
\end{equation}
для всех $\alpha>\mathbb{0}$ и~индексов $k$ и~$s$, определяемых
условиями
\begin{equation}
k = \arg\max_{1\leq j\leq
n}\bm{q}^{-}\bm{b}^{\ast}_{j}\bm{d}_{j}^{-}\bm{p}, \quad s =
\arg\max_{1\leq j\leq n}d_{jk}^{-1}p_{j}. \label{E-k-s}
\end{equation}

Выясним, при каких ограничениях на~параметр $\alpha$ вектор
$\bm{u}$ будет удовлетворять неравенству $\bm{u}\geq\bm{g}$.
Учитывая формулы \eqref{E-uk-uj}, запишем условия существования
такого вектора $\bm{u}$ в~форме
\begin{equation*}
\alpha d_{sj}^{-1}p_{s} \geq g_{j}, \quad j=1,\ldots,n.
\end{equation*}

Поскольку матрица $\bm{D}$ имеет только регулярные столбцы,
а~вектор $\bm{p}$ является регулярным, скаляр $d_{sj}p_{s}^{-1}$
не равен нулю. Умножив на~$d_{sj}p_{s}^{-1}$ обе части последнего
неравенства с~учетом монотонности умножения, получим неравенство
$\alpha \geq g_{j}d_{sj}p_{s}^{-1}$.

Тогда при условии, что
$$
\alpha \geq \max_{1\leq j \leq n} g_{j}d_{sj}p_{s}^{-1},
$$
вектор $\bm{u}$, компоненты которого находятся по~формулам
\eqref{E-uk-uj}, будет удовлетворять неравенству
$\bm{u}\geq\bm{g}$, а~вектор $\bm{x}=\bm{B}^{\ast}\bm{u}$ будет
решением задачи \eqref{P-maxqxAxp-Bxgx}. \hfill$\Box$
%\end{proof}

Рассмотрим матрицу $\bm{D}$ и~заметим, что для неразложимой матрицы $\bm{B}$ матрица Клини $\bm{B}^{\ast}$ не~имеет нулевых элементов. Отсюда следует, что если матрица $\bm{A}$ регулярна по~строкам, то~матрица $\bm{D}=\bm{AB}^{\ast}$ будет иметь регулярные столбцы. В~таком случае для выполнения условий теоремы~2 %\ref{T-maxqxAxp-Bxgx}
достаточно неразложимости матрицы $\bm{B}$ и~регулярности
по~строкам матрицы $\bm{A}$. Наконец, если матрица $\bm{A}$ имеет
только регулярные столбцы, то~столбцы матрицы $\bm{D}$ будут
регулярными при любой матрице~$\bm{B}$.


%\subsection{Задача с~двумя ограничениями-неравенствами}
{\bfseries\itshape 4.2.~Задача с~двумя
ограничениями-неравенствами.} Предположим, что заданы матрицы
$\bm{A}, \bm{B}, \bm{C}\in\mathbb{X}^{n\times n}$ и~векторы
$\bm{p}, \bm{q}, \bm{g}, \bm{h}\in\mathbb{X}^{n}$. Добавим
к~задаче \eqref{P-maxqBxAxp} два ограничения-неравенства
$\bm{B}\bm{x}\leq\bm{x}$ и~$\bm{C}\bm{x}\leq\bm{h}$, и~запишем
полученную задачу так:
\begin{equation}
\begin{aligned}
& \max && \bm{q}^{-}\bm{x}(\bm{A}\bm{x})^{-}\bm{p},
\\
& && \bm{B}\bm{x}\leq\bm{x}, \quad \bm{C}\bm{x}\leq\bm{h}.
\end{aligned}
\label{P-maxqxAxp-Bxx-Cxh}
\end{equation}

Эту задачу можно решить при помощи следующей теоремы.

%\begin{theorem}\label{T-maxqxAxp-Bxx-Cxh}
{\bfseries Теорема~3.} {\itshape Предположим, что матрицы $\bm{A}$
и $\bm{B}$  такие, что
$\mathop{\mathrm{Tr}}(\bm{B})\leq\mathbb{1}$, матрица $\bm{D} =
\bm{A}\bm{B}^{\ast}$ имеет регулярные столбцы
$\bm{d}_{j}=(d_{ij})$, где $\bm{B}^{\ast}=(\bm{b}_{j}^{\ast})$ ---
матрица Клини, а~матрица $\bm{C}$ является регулярной по~столбцам.
Пусть векторы $\bm{p} = (p_j)$, $\bm{q}$ и~$\bm{h}$ регулярные,
а~вектор $\bm{r}=(r_{j})$ определен как
$\bm{r}=(\bm{h}^{-}\bm{CB}^{\ast})^{-}$.

Тогда максимум в~задаче \eqref{P-maxqxAxp-Bxx-Cxh} равен
$\Delta=\bm{q}^{-}\bm{B}^{\ast}\bm{D}^{-}\bm{p}$ и~достигается
тогда, когда $\bm{x}=\bm{B}^{\ast}\bm{u}$, где $\bm{u}=(u_{j})$
--- любой вектор с~компонентами
\begin{equation*}
u_{k} = \alpha d_{sk}^{-1}p_{s}, \quad u_{j} \leq \alpha
d_{sj}^{-1}p_{s}, \quad j\ne k,
\end{equation*}
при условии, что
\begin{equation*}
\alpha \leq \min_{1\leq j\leq n} d_{sj}p_{s}^{-1}r_{j}, \quad k =
\arg\max_{1\leq j\leq
n}\bm{q}^{-}\bm{b}^{\ast}_{j}\bm{d}_{j}^{-}\bm{p}, \quad s =
\arg\max_{1\leq j\leq n}d_{jk}^{-1}p_{j}.
\end{equation*}
\par}
%\end{theorem}

%\begin{proof}
Д\,о\,к\,а\,з\,а\,т\,е\,л\,ь\,с\,т\,в\,о. Так же, как при
доказательстве предыдущего утверждения, заменим неравенство
$\bm{B}\bm{x}\leq\bm{x}$ на~его решение
$\bm{x}=\bm{B}^{\ast}\bm{u}$, где $\bm{u}$ --- любой регулярный
вектор подходящего размера. Подставляя решение, получим задачу
относительно $\bm{u}$ в~виде
\begin{equation*}
\begin{aligned}
& \max &&
\bm{q}^{-}\bm{B}^{\ast}\bm{u}\left(\bm{D}\bm{u}\right)^{-}\bm{p},
\\
& && \bm{C}\bm{B}^{\ast}\bm{u} \leq \bm{h}.
\end{aligned}
\end{equation*}

Затем применим теорему~1 %\ref{T-maxqBxAxp}
для нахождения максимума в~задаче без ограничений. Получаем
минимум, который равен
$\Delta=\bm{q}^{-}\bm{B}^{\ast}\bm{D}^{-}\bm{q}$ и~достигается
тогда и~только тогда, когда вектор $\bm{u}$ имеет компоненты,
которые определяются условиями \eqref{E-uk-uj}, \eqref{E-k-s}.

Определим, какие из~полученных решений удовлетворяют неравенству $\bm{C}\bm{B}^{\ast}\bm{u}\leq\bm{h}$. Поскольку матрица $\bm{C}$ является регулярной по~столбцам и~$\bm{B}^{\ast}\geq\bm{I}$, матрица $\bm{C}\bm{B}^{\ast}$ также регулярна по~столбцам. Тогда указанное неравенство удовлетворяет условию леммы~1, %\ref{L-Axb},
которая дает решение
$\bm{u}\leq(\bm{h}^{-}\bm{C}\bm{B}^{\ast})^{-} = \bm{r}$.

Подберем такие значения $\alpha$,  при которых любой вектор
$\bm{u}$, который задается условиями \eqref{E-uk-uj}, будет
удовлетворять неравенству $\bm{u}\leq\bm{r}$. Для этого
достаточно, чтобы для всех $j=1,\ldots,n$ выполнялись неравенства
$\alpha d_{sj}^{-1}p_{s}\leq r_j$. Решая их, получим для всех $j$
неравенства $\alpha\leq d_{sj}p_{s}^{-1}r_j$, которые эквивалентны
одному неравенству:
$$
\alpha \leq \min_{1\leq j\leq n} d_{sj}p_{s}^{-1} r_j.
$$

Параметр $\alpha$, удовлетворяющий этому условию, задает такие
векторы $\bm{u}$, при которых векторы $\bm{x} =
\bm{B}^{\ast}\bm{u}$ являются решениями задачи
\eqref{P-maxqxAxp-Bxx-Cxh}. \hfill$\Box$
%\end{proof}


%\section{Решение задач планирования}\label{setev}
{\bfseries 5.~Решение задач планирования.} Приведем решение задач
оптимального планирования \eqref{P-maxyimaxxixi}
и~\eqref{P-maxyimaxyixjcijxixjaijyi}, полученное путем их
представления как задач тропической оптимизации.

Заметим, что запись задач \eqref{P-maxyimaxxixi}
и~\eqref{P-maxyimaxyixjcijxixjaijyi} в~обычных обозначениях
включает только операции определения максимума, сложения
и~вычитания (вычисления, обратного по~сложению). Поэтому
представим эти задачи в терминах полуполя $\mathbb{R}_{\max,+}$.

%\subsection{Максимизация разброса времени  начала работ}
{\bfseries\itshape 5.1.~Максимизация разброса времени  начала
работ.} Рассмотрим задачу \eqref{P-maxyimaxxixi} максимизации
разброса времени начала работ при ограничениях <<старт-старт>>
и~<<ранний старт>>. С~использованием операций полуполя
$\mathbb{R}_{\max,+}$ задача принимает вид
\begin{equation*}
\begin{aligned}
& \max && \left(\bigoplus_{i=1}^{n}x_{i}\right)
\left(\bigoplus_{i=1}^{n}x_{i}^{-1}\right),
\\
& && \bigoplus_{j=1}^{n}b_{ij}x_{j} \oplus g_{i} \leq x_{i}, \quad
i=1,\ldots,n.
\end{aligned}
\end{equation*}

Определим соответствующие матрично-векторные обозначения
\begin{equation*}
\bm{B} = (b_{ij}), \quad \bm{g} = (g_{i}), \quad \bm{x} = (x_i)
\end{equation*}
и запишем задачу в~векторной форме
\begin{equation}
\begin{aligned}
& \max && \bm{1}^{T}\bm{x}\bm{x}^{-}\bm{1},
\\
& && \bm{B}\bm{x}\oplus\bm{g} \leq \bm{x}.
\end{aligned}
\label{P-1xx1-Bxgx}
\end{equation}

Сформулируем и~докажем следующую лемму.

%\begin{lemma}\label{L-1xx1-Bxgx}
{\bfseries Лемма~3.} {\itshape Пусть матрица $\bm{B}=(\bm{b}_{j})$
со столбцами $\bm{b}_{j}=({b}_{ij})$ является неразложимой
и~$\mathop{\mathrm{Tr}}(\bm{B})\leq\mathbb{1}$. Тогда максимум
в~задаче \eqref{P-1xx1-Bxgx} равен
$\Delta=\bm{1}^{T}\bm{B}^{\ast}(\bm{B}^{\ast})^{-}\bm{1}$, где
$\bm{B}^{\ast}$~--- матрица Клини со~столбцами $\bm{b}^{\ast}_j =
(b^{\ast}_{ij})$, и~достигается тогда и~только тогда, когда
$\bm{x} = \bm{B}^{\ast}\bm{u}$, где $\bm{u} = (u_j)$ --- любой
вектор с~компонентами
\begin{equation}
u_{k} = \alpha (b^{\ast}_{sk})^{-1}, \quad g_{j} \leq u_{j} \leq
\alpha (b^{\ast}_{sj})^{-1}, \quad j\ne k,
\label{E-ukalphabsk-gjujalphabsj}
\end{equation}
при условии, что
\begin{equation}
\alpha \geq \max_{1 \leq j \leq n}g_{j}b^{\ast}_{sj}, \quad k =
\arg\max_{1\leq j\leq
n}\bm{1}^{T}\bm{b}^{\ast}_{j}(\bm{b}^{\ast}_{j})^{-}\bm{1}, \quad
s = \arg\max_{1\leq j\leq n}(b^{\ast}_{jk})^{-1}.
\label{E-alpha-k-s}
\end{equation}
\par}
%\end{lemma}

%\begin{proof}
Д\,о\,к\,а\,з\,а\,т\,е\,л\,ь\,с\,т\,в\,о.
Задача \eqref{P-1xx1-Bxgx} имеет вид задачи \eqref{P-maxqxAxp-Bxgx}, если положить $\bm{p}=\bm{1}$, $\bm{q}=\bm{1}$ и~$\bm{A}=\bm{I}$. Проверим выполнение условий теоремы~2. %\ref{T-maxqxAxp-Bxgx}.
Ясно, что векторы $\bm{p}$\linebreak и~$\bm{q}$~--- регулярные.
Поскольку матрица $\bm{B}$ является неразложимой
и~$\mathop{\mathrm{Tr}}(\bm{B})\leq\mathbb{1}$, матрица
$\bm{D}=\bm{A}\bm{B}^{\ast}=\bm{B}^{\ast}$ содержит только
регулярные столбцы. Таким образом, условия теоремы выполнены.

Применяя теорему~2, получим, что максимум в~задаче равен
$\Delta=\bm{1}^{T}\bm{B}^{\ast}(\bm{B}^{\ast})^{-}\bm{1}$
и~достигается тогда и~только тогда, когда
$\bm{x}=\bm{B}^{\ast}\bm{u}$, где $\bm{u}$ --- вектор
с~компонентами \eqref{E-ukalphabsk-gjujalphabsj}, которые
удовлетворяют условию \eqref{E-alpha-k-s}. \hfill$\Box$
%\end{proof}

Рассмотрим проект, состоящий из~$n=3$ работ с~ограничениями
<<старт-старт>> и~<<ранний старт>>, заданными с~использованием
обозначения $\mathbb{0}=-\infty$ следующими матрицей и~вектором:
\begin{equation*}
\bm{B} = \left(
    \begin{array}{rrcc}
        \mathbb{0}  & -2    & 1 \\
        0   & \mathbb{0}    &   2 \\
        -1  & \mathbb{0}    & \mathbb{0}
    \end{array}
\right), \quad \bm{g} = \left(
    \begin{array}{c}
        2    \\
        0    \\
        0
\end{array}
\right).
\end{equation*}

Убедимся, что $\mathop\mathrm{Tr}(\bm{B})\leq\mathbb{1}$
и~построим матрицу Клини $\bm{B}^{\ast}$. Сначала найдем матрицы
\begin{equation*}
\bm{B}^{2} = \left(
    \begin{array}{crcc}
        0   & \mathbb{0}    & 0  \\
        1   & -2    &   1  \\
        \mathbb{0}  & -3    & 0
    \end{array}
\right),\quad \bm{B}^{3} = \left(
    \begin{array}{rrr}
        -1  & -2    & 1 \\
        0   & -1    &   2 \\
        -1  & \mathbb{0}    & -1
    \end{array}
\right).
\end{equation*}

Затем вычислим $\mathop\mathrm{Tr}(\bm{B})=\mathop\mathrm{tr}\bm{B}\oplus\mathop\mathrm{tr}\bm{B}^{2}\oplus\mathop\mathrm{tr}\bm{B}^{3}=0=\mathbb{1}$. Следовательно, условия леммы~3 %\ref{L-1xx1-Bxgx}
выполнены. Матрица Клини имеет вид
\begin{equation*}
\bm{B}^{\ast} = \bm{I}\oplus\bm{B}\oplus\bm{B}^{2} = \left(
    \begin{array}{rrcc}
        0   & -2    & 1 \\
        1   & 0 &   2 \\
        -1  & -3    & 0
    \end{array}
\right).
\end{equation*}

Используя матрицу $\bm{B}^{\ast}$, построим матрицы\newpage

\begin{equation*}
(\bm{B}^{\ast})^{-} =
%\left(
%   \begin{array}{rrc}
%       0   & -1&1 \\
%       2   & 0&3 \\
%       -1  & -2&0
%   \end{array}
%\right),
%\quad
\bm{B}^{\ast}(\bm{B}^{\ast})^{-} = \left(
    \begin{array}{rrc}
        0   & -1    & 1 \\
        2   & 0 &   3 \\
        -1  & -2    & 0
    \end{array}
\right),
\end{equation*}
а также вычислим максимум
$\Delta=\bm{1}^{T}\bm{B}^{\ast}(\bm{B}^{\ast})^{-}\bm{1}=3$
целевой функции задачи.

Определим индексы $k$ и~$s$, а~также нижнюю границу для параметра
$\alpha$, которые определяются условиями \eqref{E-alpha-k-s}.
Сначала найдем
$$
\bm{1}^{T}\bm{b}^{\ast}_{1}(\bm{b}^{\ast}_{1})^{-}\bm{1}=2, \quad
\bm{1}^{T}\bm{b}^{\ast}_{2}(\bm{b}^{\ast}_{2})^{-}\bm{1}=3, \quad
\bm{1}^{T}\bm{b}^{\ast}_{3}(\bm{b}^{\ast}_{3})^{-}\bm{1}=2,
$$
откуда вытекает, что $k=2$. Затем вычислим
$$
(b^{\ast}_{12})^{-1} = 2, \quad (b^{\ast}_{22})^{-1} = 0, \quad
(b^{\ast}_{32})^{-1} = 3
$$
и выберем $s=3$.

Установим нижнюю границу для параметра $\alpha$. После расчета
$$
g_{1}b^{\ast}_{31} = 1, \quad g_{2}b^{\ast}_{32} = -3, \quad
g_{3}b^{\ast}_{33} = 0
$$
находим максимум, равный $1$, из~чего следует, что $\alpha\geq1$.

Определим вектор $\bm{x}$ самых ранних сроков начала работ,
соответствующих значению $\alpha=1$. Сначала вычислим границы
\eqref{E-ukalphabsk-gjujalphabsj} для элементов вектора
$\bm{u}=(u_{1},u_{2},u_{3})^{T}$ при условии, что $\alpha=1$.
После соответствующих расчетов получаем
\begin{equation*}
u_1=2, \quad u_2=4, \quad 0\leq u_3\leq 1.
\end{equation*}

Положим $u_{3}=0$ и~по~вектору $\bm{u}=(2,4,0)^{T}$ найдем вектор
\begin{equation*}
\bm{x} = \bm{B}^{\ast}\bm{u} = \left(
    \begin{array}{c}
        2    \\
        4    \\
        1
\end{array}
\right).
\end{equation*}

Учитывая, что при $u_{3}=1$ решение остается прежним, заключаем,
что наиболее раннее время начала работ задается равенствами
\begin{equation*}
x_1=2, \quad x_2=4, \quad x_3= 1.
\end{equation*}


%\subsection{Максимизация разброса времени  завершения работ}
{\bfseries\itshape 5.2.~Максимизация разброса времени  завершения
работ.} Представим задачу \eqref{P-maxyimaxyixjcijxixjaijyi}
максимизации разброса времени завершения работ с~ограничениями
<<старт-старт>>, <<старт-финиш>> и~<<поздний финиш>> в~терминах
полуполя $\mathbb{R}_{\max,+}$ в~форме
\begin{equation*}
\begin{aligned}
& \max && \left(\bigoplus_{i=1}^{n}y_{i}\right)
\left(\bigoplus_{i=1}^{n}y_{i}^{-1}\right),
\\
& && \bigoplus_{j=1}^{n}a_{ij}x_{j} = y_{i}, \quad
\bigoplus_{j=1}^{n}b_{ij}x_{j} \leq x_{i}, \quad y_{i} \leq h_{i},
\quad i=1,\ldots,n.
\end{aligned}
\end{equation*}
Введем обозначения
\begin{equation*}
\begin{aligned}
\bm{A} = (a_{ij}), \quad \bm{B} = (b_{ij}), \quad \bm{x} =
(x_{i}), \quad \bm{y} = (y_i), \quad \bm{h} = (h_i).
\end{aligned}
\end{equation*}

Представим задачу в~виде
\begin{equation}
\begin{aligned}
& \max && \bm{1}^{T}\bm{y}\bm{y}^{-}\bm{1},
\\
& && \bm{A}\bm{x} = \bm{y}, \quad \bm{B}\bm{x} \leq \bm{x}, \quad
\bm{y} \leq \bm{h}.
\end{aligned}
\label{P-1yy1-Axy-Bxx-yh}
\end{equation}
Решение задачи \eqref{P-1yy1-Axy-Bxx-yh} можно записать следующим
образом.

%\begin{lemma}\label{L-1yy1-Axy-Bxx-yh}
{\bfseries Лемма~4.} {\itshape Предположим, что матрицы $\bm{A}$
и~$\bm{B}$ такие, что матрица $\bm{A}$ является регулярной,
$\mathop{\mathrm{Tr}}(\bm{B})\leq\mathbb{1}$, а~матрица
$\bm{D}=\bm{A}\bm{B}^{\ast}$ имеет регулярные столбцы
$\bm{d}_{j}=(d_{ij})$, где $\bm{B}^{\ast}$ --- матрица Клини.

Тогда максимум в~задаче \eqref{P-1yy1-Axy-Bxx-yh} равен
$\Delta=\bm{1}^{T}\bm{D}\bm{D}^{-}\bm{1}$ и~достигается тогда,
когда $\bm{x}=\bm{B}^{\ast}\bm{u}$ и~$\bm{y}=\bm{D}\bm{u}$, где
$\bm{u}=(u_{j})$ --- любой вектор с~компонентами
\begin{equation}
u_{k} = \alpha d_{sk}^{-1}, \quad u_{j} \leq \alpha d_{sj}^{-1},
\quad j\ne k, \label{E-ukalphadsk-ujalphadsj}
\end{equation}
при условии, что
\begin{equation}
\begin{aligned}
\alpha \leq \min_{1\leq j\leq n}d_{sj}(\bm{h}^{-}\bm{d}_{j})^{-},
\quad k = \arg\max_{1\leq j\leq
n}\bm{1}^{T}\bm{d}_{j}\bm{d}^{-}_{j}\bm{1}, \quad s =
\arg\max_{1\leq j\leq n}d_{jk}^{-1}.
\end{aligned}
\label{E-alphamindsjhdj-k-s}
\end{equation}
\par}
%\end{lemma}

%\begin{proof}
Д\,о\,к\,а\,з\,а\,т\,е\,л\,ь\,с\,т\,в\,о. Подставим равенство
$\bm{y}=\bm{A}\bm{x}$ в~целевую функцию и~первое ограничение.
Получим задачу относительно $\bm{x}$ в~виде
\begin{equation*}
\begin{aligned}
& \max && \bm{1}^{T}\bm{A}\bm{x}(\bm{A}\bm{x})^{-}\bm{1},
\\
& && \bm{B}\bm{x} \leq \bm{x}, \quad \bm{A}\bm{x} \leq \bm{h}.
\end{aligned}
\end{equation*}
Она сводится к~задаче \eqref{P-maxqxAxp-Bxx-Cxh} при условии, что $\bm{C}=\bm{A}$, $\bm{p}=\bm{1}$ и~$\bm{q}=(\bm{1}^{T}\bm{A})^{-}$. Проверим, что выполняются условия теоремы~3. %\ref{T-maxqxAxp-Bxx-Cxh}.
Для матрицы $\bm{B}$ справедливо неравенство
$\mathop{\mathrm{Tr}}(\bm{B})\leq\mathbb{1}$, все столбцы матрицы
$\bm{D}=\bm{A}\bm{B}^{\ast}$ регулярны и~матрица $\bm{C}$ является
регулярной. Определим вектор
$\bm{r}=(\bm{h}^{-}\bm{AB}^{\ast})^{-}=(\bm{h}^{-}\bm{D})^{-}$.
Учитывая, что векторы $\bm{p}$ и~$\bm{q}$ регулярные, заключаем,
что указанные условия выполняются.

Применяя теорему~3, %\ref{T-maxqxAxp-Bxx-Cxh},
получим, что максимум в~задаче равен
$\Delta=\bm{1}^{T}\bm{D}\bm{D}^{-}\bm{1}$ и~достигается тогда,
когда $\bm{x}=\bm{B}^{\ast}\bm{u}$, где $\bm{u}$ --- любой вектор
с компонентами \eqref{E-ukalphadsk-ujalphadsj}, удовлетворяющими
условиям \eqref{E-alphamindsjhdj-k-s}. \hfill$\Box$
%\end{proof}

Пусть имеется проект, который состоит из~$n=3$ работ. Предположим,
что для этих работ выполняются ограничения «старт-старт»,
«старт-финиш» и~«поздний финиш», заданные при помощи следующих
матриц и~векторов:
\begin{equation*}
\bm{A} = \left(
    \begin{array}{rrcc}
        4   & 1 & 1 \\
        2   & 2 &   0 \\
        0   & 1 & 3
    \end{array}
\right)\!, \quad \bm{B} = \left(
    \begin{array}{rrcc}
        \mathbb{0}  & -2    & 1 \\
        0   & \mathbb{0}    &   2 \\
        -1  & \mathbb{0}    & \mathbb{0}
    \end{array}
\right)\!, \quad \bm{h} = \left(
    \begin{array}{c}
        5    \\
        4    \\
        4
\end{array}
\right)\!.
\end{equation*}

Сначала заметим, что матрица $\bm{B}$ определена так же, как
в~предыдущем примере. Из~результатов вычислений для этого примера
следует, что $\mathop\mathrm{Tr}(\bm{B})=\mathbb{1}$. Построим
матрицы
\begin{equation*}
\bm{B}^{\ast} = \left(
    \begin{array}{rrcc}
        0   & -2    & 1 \\
        1   & 0 &   2 \\
        -1  & -3    & 0
    \end{array}
\right)\!, \quad \bm{D} = \bm{A}\bm{B}^{\ast} = \left(
    \begin{array}{rrcc}
        4   & 2&5 \\
        3   & 2&4 \\
        2   & 1&3
    \end{array}
\right)\!.
\end{equation*}

Затем вычислим матрицы
\begin{equation*}
\bm{D}^{-} = \left(
    \begin{array}{rrcc}
        -4  & -3&-2 \\
        -2  & -2&-1 \\
        -5  & -4&-3
    \end{array}
\right)\!, \quad \bm{D}\bm{D}^{-} = \left(
    \begin{array}{rrcc}
        0   & 1&2 \\
        0   & 0&1 \\
        -1  & -1&0
    \end{array}
\right)
\end{equation*}
и определим максимум в~задаче, который равен
$\Delta=\bm{1}^{T}\bm{D}\bm{D}^{-}\bm{1}=2$.\newpage

Найдем индексы $k$ и~$s$, а~также нижнюю границу для параметра
$\alpha$, которые определяются условиями
\eqref{E-alphamindsjhdj-k-s}. Сначала вычислим
\begin{equation*}
\bm{1}^{T}\bm{d}_{1}\bm{d}^{-}_{1}\bm{1}=2, \quad
\bm{1}^{T}\bm{d}_{2}\bm{d}^{-}_{2}\bm{1}=1, \quad
\bm{1}^{T}\bm{d}_{3}\bm{d}^{-}_{3}\bm{1}=2,
\end{equation*}
из чего вытекает, что $k$ может принимать два значения: 1 и~3.

Сначала положим $k=1$. Учитывая, что
$$
d_{11}^{-1} = -4, \quad d_{21}^{-1} = -3, \quad d_{31}^{-1} = -2,
$$
выбираем $s=3$. Аналогично проверяется, что при $k=3$ следует
снова взять $s=3$.

Определим верхнюю границу для параметра $\alpha$. Вычислим
вспомогательный\linebreak вектор
\begin{equation*}
\bm{h}^{-}\bm{D} = \left(
    \begin{array}{rrcc}
        -1  & -2& 0 \\
    \end{array}
\right)
\end{equation*}
и рассмотрим величины
$$
d_{31} (\bm{h}^{-}\bm{d}_1)^{-} = 3, \quad d_{32}
(\bm{h}^{-}\bm{d}_2)^{-} = 3, \quad d_{33}
(\bm{h}^{-}\bm{d}_3)^{-} = 3.
$$
Учитывая, что минимум этих величин равен $3$, заключаем, что
$\alpha\leq 3$.

Чтобы получить решение, которое соответствует наиболее позднему
времени начала работ, положим $\alpha=3$. Определим компоненты
вектора $\bm{u}=(u_{1},u_{2},u_{3})^{T}$ при условии, что $k = 1$.
По формулам \eqref{E-ukalphadsk-ujalphadsj} находим
\begin{equation*}
u_1=1, \quad u_2\leq 2, \quad u_3 \leq 0.
\end{equation*}

В случае, когда $k = 3$, компоненты вектора $\bm{u}$ удовлетворяют
условиям
\begin{equation*}
u_1 \leq 1, \quad u_2 \leq 2, \quad u_3 = 0.
\end{equation*}

Выбирая вектор $\bm{u}=(1,2,0)^{T}$, получаем решение в~виде
\begin{equation*}
\bm{x} = \bm{B}^{\ast}\bm{u} = \left(
    \begin{array}{c}
        1    \\
        2    \\
        0
\end{array}
\right), \quad \bm{y} = \bm{A}\bm{u} = \left(
    \begin{array}{c}
        5    \\
        4    \\
        3
\end{array}
\right).
\end{equation*}


{\bfseries 6.~Заключение.} В~статье изучены задачи оптимального
планирования сроков выполнения работ проекта при наличии
ограничений на~время начала и~завершения, а~также порядок работ.
В~качестве критериев оптимальности плана берется минимум
максимального разброса времени начала или завершения работ. Такие
задачи появ\-ляют\-ся, например, при необходимости составления
плана, который позволяет избежать одновременного начала или
завершения всех работ проекта.

Для решения использованы методы тропической оптимизации (методы
оптимизации функций, заданных на~векторах над идемпотентными
полуполями). Получены новые решения задач планирования, которые,
в~отличие от~существующих алгоритмических решений, дают результат
в виде прямых расчетных формул в~компактном векторном
представлении, удобных для дальнейшего анализа и~практических
ра\-счетов.

Полученные результаты демонстрируют возможность применения методов
тропической оптимизации в~качестве удобного инструмента решения
задач планирования. Разработка приложений тропической оптимизации
для решения новых задач сетевого планирования, включая задачи
с~другими типами ограничений и~критериями оптимальности,
представляется перспективным направлением дальнейших исследований.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newpage
\input{05/lit-ra}

%%%%%N DOI в~ссылке!!!!!!!!!!

\input{05/ref-s}

%%%%%N DOI в~ссылке!!!!!!!!!!


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


{\footnotesize




%\thispagestyle{empty}

\vskip 3mm

%\thispagestyle{empty}


\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~13.~Вып.~\issuenum}}
\hfill}%
\fancyfoot[RE]{\hfill\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~13.~Вып.~\issuenum}}}%
%\lhead{} %верхний колонтитул слева
%%\rhead{} % верхний колонтитул справа
% для оформления нижнего колонтитула
\cfoot{} %
%\lfoot{} %
%\rfoot{\thepage} %


\noindent Статья рекомендована к~печати проф. Л. А. Петросяном.

\vskip 1mm

\noindent Статья поступила в~редакцию 29 июня 2017~г.

\vskip 1mm

\noindent Статья принята к~печати 12 октября 2017~г.

}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\vskip 5mm


%{\footnotesize

%\noindent К\,о\,н\,т\,а\,к\,т\,н\,а\,я\,
%и\,н\,ф\,о\,р\,м\,а\,ц\,и\,я \nopagebreak

%\vskip 3mm

%\textit{Буре Артем Владимирович}~--- аспирант; e-mail:
%bure.artem@gmail.com

%\vskip 2mm

%\emph{Bure Artem Vladimirovich}~--- post-graduate student; e-mail:
%bure.artem@gmail.com

%}
