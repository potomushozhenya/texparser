
\noindent{\small УДК 004.75  \hfill {\footnotesize Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~16.~Вып.~\issuenum}\\
MSC 68P25, 94A62

}

\vskip3mm

\noindent{\bf Применение технологии виртуализации для защиты
программного\\ обеспечения и~данных в~системах добровольческих вычислений%$^{*}$%
 }

\vskip3mm

\noindent{\it Н. П. Храпов%$\,^1$%
%, И.~О. Фамилия%$\,^2$%
}

\efootnote{
%%
%\vspace{-3mm}\parindent=7mm
%%
%\vskip 0.1mm $^{*}$ Работа выполнена при
%финансовой поддержке Российского научного фонда (проект №
%?). (The work was jointly supported by a grant
%from the Russian Science Foundation (Project N ?))\par
%%
%%\vskip 2.0mm
%%
\indent{\copyright} Санкт-Петербургский государственный
университет, \issueyear%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum06 } }\hfill\thepage}%
\fancyfoot[RE]{\thepage\hfill{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum06}}}%
% для оформления нижнего колонтитула
\cfoot{} %

\vskip3mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\footnotesize

\noindent%
%$^1$~%
Институт проблем передачи информации Российской академии наук,
Российская Федерация,

\noindent%
%\hskip2.45mm%
127051, Москва, Большой Каретный пер., 19 

%\noindent%
%$^1$~%
%Санкт-Петербургский государственный университет, Российская
%Федерация,
%
%\noindent%
%\hskip2.45mm%
%199034, Санкт-Петербург, Университетская~наб., 7--9

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\vskip3mm

{\small \noindent \textbf{Для цитирования:} \textit{Храпов Н. П.}
Применение технологии виртуализации для защиты программного
обеспечения и~данных в~системах добровольческих вычислений~//
Вестник Санкт-Петербургского университета. Прикладная математика.
Информатика. Процессы управления. \issueyear. Т.~16.
Вып.~\issuenum.
С.~\pageref{p6}--\pageref{p6e}. %\\
\doivyp/\enskip%
\!\!\!spbu10.\issueyear.\issuenum06

\vskip3mm

{\leftskip=7mm\noindentПри решении вычислительных задач научные
коллективы часто применяют вы\-чис\-ли\-тель\-ные ресурсы, которые
предоставлены различными организациями или
ин\-ди\-ви\-дуаль\-ны\-ми волонтерами. Программное обеспечение
(ПО) и~данные, используемые науч\-ным коллективом, могут являться
предметом интеллектуальной собственности. По этой причине
становится ак\-туаль\-ным вопрос защиты ПО и~данных от
потенциальных зло\-умыш\-лен\-ни\-ков, которые могут подключиться
к~проекту под видом добровольцев. Приводится обзорный анализ
существующих подходов к~преодолению данной проблемы в~общем
случае. Детально рассмотрены возможности инфраструктуры BOINC,
ак\-туаль\-ные для разработки разных сценариев защиты информации.
Предложена концепция защиты данных от несанкционированного
доступа, основанная на интеграции клиентской стороны BOINC
с~системой
VirtualBox.\\[1mm]
\textit{Ключевые слова}: защита информации, грид-системы,
добровольные вычисления, BOINC, виртуализация, VirtualBox.

}

}

\vskip 4mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{1. Введение.} Технологии грид-систем из персональных
компьютеров  (ГСПК) и~добровольных вычислений постепенно набирают
популярность начиная с~конца XX~в. Наблюдения показали, что
в~подавляющем большинстве случаев уровень загрузки центрального
процессора типового домашнего или офисного компьютера не превышает
\mbox{10\,\%}. Это означает, что более чем 90\,\% процессорного
времени работающего компьютера не задействовано для работы.
Технологии ГСПК позволяют использовать незадействованное время
центрального процессора~(ЦП) для проведения вычислений, связанных
с решением полезных научных задач. Наиболее распространенной
реализацией ГСПК в~настоящее время является система Berkeley Open
Infrastructure for Network Computing (BOINC)~[1].

Перед человечеством стоит множество глобальных задач, решение
которых тре\-бует больших вычислительных мощностей. К~их числу
можно отнести моделирование белковых молекул для создания средств
по борьбе с~опасными вирусами и~раковыми заболеваниями.
Значительные вычислительные ресурсы также необходимы для решения
задач в~области науки о~материалах, предсказания климата и~погоды,
физики элементарных частиц и~других важных областях науки.

Инфраструктура BOINC позволяет проводить вычисления на
персональном компьютере (ПК), который был предоставлен для этого
добровольцем. Они могут производиться на домашнем или офисном ПК
параллельно выполнению основных задач или во время отсутствия
пользовательской активности. Также система BOINC дает возможность
использовать для вычислений выделенные ПК и~серверы, в~отдельных
случаях кластеры. Запуск вычислительных заданий и~обмен данными
осу\-ществ\-ляют\-ся в~автоматическом режиме посредством сети
Интернет. Для того чтобы предоставить свой ПК для научных
вычислений, его владелец устанавливает специальную программу
BOINC-клиент. В~настройках BOINC-клиента указывается проект
добровольных вычислений, задачи которого волонтер хочет считать на
своем ПК. После необходимых настроек программа BOINC-клиент
автоматически скачивает с~сервера проекта вычислительное задание,
запускает его и результат вычислений пересылает обратно на сервер
проекта.

%%SECTION Анализ рисков в~сетях добровольных вычислений

\textbf{2. Анализ рисков в~сетях добровольных вычислений.}
Рассмотрим основные типы угроз информационной безопасности,
применительно к~проектам добровольных вычислений.

1. \textit{Угроза конфиденциальности}, т. е. несанкционированного
доступа к~данным. В~вычислительных сетях, основанных на BOINC,
злоумышленник под видом волонтера способен подключиться к~проекту
добровольных вычислений и~получить полный доступ к~программному
обеспечению (ПО) и~данным задания. В~ряде случаев такая информация
может иметь лицензионные ограничения. В~настоящее время система
BOINC не предусматривает какого-либо механизма защиты информации
от такого типа угроз. Предложенная в~рамках данной статьи
концепция защиты информации ориентирована в~первую очередь на
преодоление этого типа угроз.

2. \textit{Угроза целостности}, т. е. несанкционированной
модификации, дополнения или уничтожения данных. Применимо
к~вычислительным сетям, основанным на BOINC, такой вид угрозы
состоит в~том, что злоумышленник под видом волонтера способен
скачать вычислительное задание с~сервера проекта и~осуществить
подмену результата для причинения намеренного вреда. Для
противодействия этому виду угроз система BOINC предусматривает
механизм проверки (валидации) полученных от вычислительного узла
результатов. Один из подходов к~валидации в~BOINC состоит
в~проблемно-ориентированном анализе содержимого полученного
результата на соответствие спе\-циаль\-ным критериям. Другой
подход
--- в~механизме репликации и~кворума. При нем \textit{n} копий
(реплик) одного вычислительного задания рассылаются на различные
вычислительные узлы случайным образом. После этого сравниваются
результаты, полученные с~разных вычислительных узлов. Если
\textit{m} результатов совпадают (достижение кворума), то общий
результат считается истинным (каноническим). Концепция,
предложенная в~рамках настоящей статьи, допускает шифрование
промежуточных данных, тем самым способна существенно повысить
уровень защиты результатов вычислений от по\-тен\-циаль\-ной
подмены.

3. \textit{Угроза доступности (Denial of Service {\rm ---}
DoS-атака)}, т. е. ограничение или блокирование доступа к~данным,
целенаправленный вывод системы из работоспособного состояния.
Применимо к~технологии BOINC такая угроза состоит в~том, что
злоумышленник способен имитировать большое число клиентских
запросов заданий с~сервера с~целью вывода его из строя. Для
противодействия данному типу угроз система BOINC предусматривает
ряд способов защиты, таких как проверка электронного адреса
пользователя, ввод цифр с~изображения, блокировка ненадежных узлов
и пользователей. Защита от DoS-атак является предметом отдельных
исследований и~здесь не рассматривается.

В этой статье разработаны методы изоляции ПО и~данных от
потенциальных злоумышленников в~рамках публичных BOINC-проектов.
Использование разработанных методов в~каждом конкретном случае
может потребовать согласование как с~владельцем прав на
интеллектуальную собственность, так и~с~пользователями
инфраструктуры BOINC, предоставляющими ресурс для вычислений.

%%\section{Обзор существующих подходов}
\textbf{3. Обзор существующих подходов.} Проблема изоляции ПО
и~данных от потенциальных злоумышленников на стороне
вычислительного узла применительно к~системе BOINC ранее не
рассматривалась. Но к~настоящему времени опубликован ряд научных
работ, посвященных данной тематике, относительно других
вычислительных систем.

В [2] предложен подход к~защите информации, основанный на
шифровании разделов виртуальной машины (ВМ). Рассматриваемый
подход совместим с~системами виртуализации Xen и~Vmware. Однако
вычислительная платформа BOINC не поддерживает интеграцию
с~данными гипервизорами. По этой причине реализация описанного
подхода невозможна для вычислительных инфраструктур, основанных на
BOINC. Но идея защиты информации посредством шифрования разделов
ВМ заслуживает внимания применительно и~к~технологии BOINC.

Стандартный сценарий использования платформы BOINC предполагает
возможность создания глобальных вычислительных проектов, к~которым
можно подключить любой компьютер посредством сети Интернет. Но для
ряда вычислительных задач достаточно применять суммарные
вычислительные мощности ПК и~серверов организации, занимающейся
решением прикладных задач. Важным преимуществом такого подхода
является возможность максимально эффективного использования
имею\-щих\-ся в~наличии вычислительных ресурсов. В~[3]
рассматриваются возможности применения системы BOINC на
внутрикорпоративных ресурсах в~рамках одной или нескольких
организаций.

Для многих научных организаций совокупная мощность представляющих
доверие ПК и~имеющихся в~распоряжении кластерных систем способнa
предоставить необходимый для решения поставленных задач ресурс.
В~[4, 5] предлагается подход к~созданию гибридной вычислительной
инфраструктуры, основанной на интеграции кластеров и~систем
добровольных вычислений, полученных с~помощью BOINC.

%%\section{Способы запуска приложений, предоставляемые инфраструктурой BOINC}

\textbf{4. Способы запуска приложений, предоставляемые
инфраструктурой BOINC.} Стандартный способ запуска приложений
состоит в~том, что BOINC-клиент скачивает исполняемый файл
приложения вместе с~файлами данных с~сервера проекта. Затем
приложение запускается на вычислительном узле. После окончания
расчетов файлы результатов отправляются на сервер для дальнейшей
обработки. Процесс работы приложения на стороне вычислительного
узла контролируется программой BOINC-клиент. Данный контроль
подразумевает взаимодействие между при\-ло\-же\-нием и~запустившей
его средой. Для осуществления этого необходимо, чтобы приложение
было собрано и~структурировано специальным образом для запуска
в~BOINC-сре\-де. Взаимодействие приложения и~среды запуска
осуществляется со стороны приложения вызовом спе\-циаль\-ных
функций, предоставляемых библиотеками BOINC-API или DC-API [6].

На практике в~ряде случаев отсутствует возможность специальной
разработки приложений для запуска в~среде BOINC. Во-первых, может
использоваться приложение с~закрытым исходным кодом. Во-вторых,
изменение структуры программы может быть чрезмерно трудоемким. Для
адаптации уже существующих приложений разработчиками системы BOINC
было  создано специальное приложение wrapper [7]. Оно запускается
на стороне вычислительного узла BOINC-клиентом и~осуществляет
запуск неадаптированного приложения и~вызовы необходимых функций
для взаимодействия с~программой BOINC-клиент.

Как при запуске  приложения, специально разработанного для BOINC,
так и~при технологии wrapper запускаемый файл приложения и~файлы
с~данными помещаются в~файловую систему ПК волонтера явным
образом. Потому   единственным способом защиты информации в~рамках
описанных выше подходов является интеграция методов шифрования
в~исходный код приложения, которая в~ряде случаев требует больших
трудовых затрат или невозможна. В~рамках этой работы предложены
способы защиты ПО и~данных, которые используют существующий
исполняемый файл приложения без внесения изменений в~исходный код.

В настоящее время платформа BOINC поддерживает возможность запуска
приложений на стороне вычислительного узла внутри ВМ. Для этого
программа BOINC-клиент поддерживает интеграцию с~системой
виртуализации VirtualBox. При своем запуске BOINC-клиент проверяет
наличие программы VirtualBox на вычислительном узле. При наличии
такой программы запрос заданий содержит прикрепленную информацию
о~версии установленного VirtualBox. Обрабатывая этот запрос,
BOINC-сервер отправляет задание, использующее систему
виртуализации (при наличии такого задания на сервере).
Разработчики системы BOINC предложили типовой сценарий запуска
приложений внутри виртуальной среды на стороне вычислительного
узла, имеющий  следующие особенности:

1. Приложение состоит из программы VirtualBox-wrapper. Данная
программа написана с~помощью BOINC-API. Также в~состав приложения
входит файл жесткого диска ВМ.

2. Стандартный сценарий применения технологии виртуализации
подразумевает, что внутри ВМ установлены дополнения гостевой
операционной системы (ОС). На этапе отправки на вычислительный
узел виртуальная ОС находится в~выключенном состоянии.

3. BOINC-клиент запускает программу VirtualBox-wrapper, которая
создает ВМ, прикрепляет к~ней виртуальный жесткий диск из состава
приложения и~запускает ее. После загрузки виртуальной ОС создается
общая папка, в~которую помещаются данные приложения. Затем,
используя их, проблемно-ориентированное приложение запускается под
управлением виртуальной ОС. После окончания вычислений ВМ
выключается, а файлы результатов из общего каталога передаются на
BOINC-сервер для дальнейшей обработки.

Подход, основанный на использовании VirtualBox-wrapper, изначально
не предназначен для защиты ПО и~данных. В~частности, в~рамках
этого подхода предполагается наличие ПО и~данных как в~файловой
системе вычислительного узла, так и~внутри гостевой ОС. Таким
образом, потенциальный злоумышленник способен получить необходимую
информацию из файловой системы или из образа ВМ. Если использовать
шифрование файловой системы ВМ совместно с~VirtualBox-wrapper, то
потребуется ввод ключей шифрования на этапе загрузки. Так как
загрузка виртуальной ОС осуществляется на стороне вычислительного
узла в~автоматическом режиме, то система управления загрузкой
должна будет извлечь ключи шифрования из некоторого места
хранения. Это создает угрозу доступа к~информации потенциальным
злоумышленникaм посредством извлечения ключей шифрования из места
хранения. Таким образом, надежно защитить данные, расположенные
внутри файловой системы ВМ, применяя VirtualBox-wrapper,
невозможно.

Описанная в~настоящей статье концепция ориентирована на расширение
возможностей подхода к~использованию виртуализации, предложенного
ранее разработчиками системы BOINC. Предлагаемые методы позволяют
осуществить защиту ПО и~данных от доступа потенциальных
злоумышленников при применении новых возможностей системы
виртуализации VirtualBox. Обзор этих возможностей приведен в~п. 5.

%%\section{Обзор возможностей платформы VirtualBox}

\textbf{5. Обзор возможностей платформы VirtualBox.} Сфера
применения технологий виртуализации постоянно расширяется. Большое
распространение получили серверы виртуализации, предоставляющие
пользователю спектр возможностей различного вида хостинга.
Дальнейшим этапом расширения области использования технологий
виртуализации стало внедрение кластеров (пулов) серверов
виртуализации. Информационные системы пулов виртуализации легли
в~основу создания концепции облачных вычислений Infrastructure as
a Service (IaaS). Одним из основных требований к~выделенному
серверу является способность непрерывного функционирования на
протяжении долгого времени. Проведение периодических технических
работ на серверах вир\-туа\-ли\-за\-ции приводит к~необходимости
периодического выключения и~переноса на другой сервер запущенных
ВМ. Для решения такой проблемы в~рамках современных систем
облачных вычислений и~технологий виртуализации была разработана
возможность горячей миграции ВМ. Данный способ миграции означает,
что ВМ, запущенная на сервере виртуализации, может быть без
выключения перенесена на другой сервер.

Для системы VirtualBox эта технология получила название
teleporting и~была внедрена, начиная с~версии 3.1, выпущенной
в~2009 г. Функция teleporting позволяет пе\-ре\-нес\-ти по
локальной сети работающую ВМ с~одного сервера виртуализации на
другой без выключения самой ВМ. Описываемый в~настоящей статье
подход к~защите информации не использует teleporting явным
образом, однако применяет такие же функциональные возможности
и~имеет ряд сходств.

Все современные системы виртуализации (включая VirtualBox)
обладают возможностью сохранения состояния ВМ. Данный процесс
аналогичен постановке на паузу: текущее состояние жесткого диска,
оперативной памяти и~процессорных регистров сохраняются
в~специальных файлах. Через некоторое время состояние ВМ может
быть восстановлено на основе информации, полученной из таких
файлов. Наиболее важной особенностью является то, что файлы
состояния ВМ могут быть скопированы на другую хост-систему, и~ВМ
может продолжить функционирование уже на ней. Учитывая то, что
возможно создание неограниченного числа копий файлов состояния ВМ,
то и~копии сеанса ее работы могут продолжиться на неограниченном
количестве хост-систем. Аналогичным образом в~рамках предлагаемого
подхода вычислительная ВМ изначально запускается и~настраивается
на ПК администратора проекта, а затем продолжает свое
функционирование на вычислительном узле волонтера.

Запуск ВМ на вычислительном узле и~дальнейшее управление
осуществляются в~автоматическом режиме. Рассмотрим следующие
основные интерфейсы управления ВМ, предоставляемые системой
VirtualBox:

\textbullet\, \textit{Графический интерфейс пользователя} (\!{\it
GUI}). Данный интерфейс максимально удобен в~использовании при
минимальных функциональных возможностях. VirtualBox GUI показал
свою практичность для индивидуального применения ВМ, однако не
предоставляет возможностей автоматизированного запуска
и~управления ВМ. Таким образом, GUI не удовлетворяет необходимым
для реализации подхода требованиям.

\textbullet\, \textit{Интерфейс командной строки} (\!{\it CLI}).
Он позволяет пользователю применять все основные возможности
системы виртуализации, а также проводить автоматизированный запуск
и~управление ВМ. С~помощью VirtualBox CLI возможна быстрая
разработка платформозависимых скриптов управления.

\textbullet\, \textit{VirtualBox API.} Программный интерфейс
предоставляет возможность разработки ПО, способного осуществлять
управление ВМ. При этом API VirtualBox не поз\-во\-ляет
осуществить прямое управление средой виртуализации пользователем.
С~помощью VirtualBox API реализовано приложение
VirtualBox-wrapper, разработанное создателями платформы BOINC.

Для реализации автоматизированного управления ВМ в~рамках
предложенного подхода можно использовать как CLI, так и~API.

%%\section{Концепция применения технологии виртуализации для защиты ПО и~данных}

\textbf{6. Концепция применения технологии виртуализации для
защиты ПО и~данных.} Методы, предложенные в~настоящей работе,
основаны на сохранении состояния ВМ и~восстановлении рабочего
состояния на другой вычислительной хост-системе. Запускаемое
приложение помещается внутрь файловой системы ВМ на специальный
зашифрованный раздел. Расчеты производятся под управлением
гостевой ОС. На стороне вычислительного узла ВМ находится
в~состоянии, не допускающем вмешательства и~доступа к~внутренней
информации со стороны пользователя хост-системы. В~частности,
невозможен доступ к~консоли ВМ без ввода идентифика\-цион\-ной
информации. Принципиальная отличительная особенность такого
подхода со\-стоит в~том, что на стороне вычислительного узла
осуществляется не загрузка вир\-туаль\-ной ОС, а восстановление
состояния работающей ВМ. В~сохраненном состоянии зашифрованные
разделы уже примонтированы к~гостевой ОС. Отсутствие необходимости
монтирования шифрованных разделов на стороне вычислительного узла
снижает потенциальную угрозу похищения ключей шифрования
в~процессе передачи данных.

Контейнером для транспортировки входных/выходных данных для
расчетов выступает виртуальный жесткий VDI-диск, который
подключается к~ВМ в~качестве внешнего накопителя после
восстановления состояния. Если используемые программой данные
необходимо защитить, то они помещаются в~файловую систему
виртуального диска внутрь зашифрованного архива. Подготовка файла
с данными осуществляется на стороне BOINC-сервера.

За управление вычислениями отвечают следующие программы:

1. На вычислительном узле BOINC-клиентом запускается
\textit{программа управления ВМ} (\!{\it ПУВМ}), которая отвечает
за восстановление состояния, подключение виртуальных носителей
с~данными и~завершение расчетов. ПУВМ является BOINC-приложением,
которое может быть реализовано как при помощи технологии wrapper,
так и~нативных BOINC-API или DC-API.

2. Внутри ВМ процесс вычислений контролируется \textit{сценарием
управления расчетами} (\!{\it СУР}). Данная программа запускается
администратором проекта на этапе подготовки ВМ. СУР осуществляет
монтирование файловой системы виртуального носителя данных,
копирование входных данных приложения на зашифрованный раздел (при
необходимости их дешифровку) и~запуск основного решателя. После
окончания вычислений СУР копирует их результаты на виртуальный
носитель и~выключaет ВМ. Для обеспечения целостности данных
и~отказоустойчивости СУР также способен производить сбор логов
и~подписывание передаваемых данных.


Основные этапы жизненного цикла ВМ отображены на рис. 1.
Приведенная диаграмма подчеркивает, что после этапа подготовки
создается множество копий ВМ для работы с~разными заданиями.
UML-диаграмму времени совокупной работы ВМ, СУР, ПУВМ
и~BOINC-клиента для отдельного задания отображает рис. 2.

%\begin{figure}[h]
%\center{\includegraphics[width=1\linewidth]{fig1}}
%\caption*{\textit{Рис. 1.} Этапы жизненного цикла ВМ}
%\label{fig:example1}
%\end{figure}



\begin{figure}[h!]
\centering{
\includegraphics[scale=1]{06/fig1}

\vskip 4mm {\small{\it Рис. 1.} Этапы жизненного цикла ВМ} }
\end{figure}

\vskip 3mm
\begin{figure}[h!]
\centering{
\includegraphics[scale=0.9]{06/fig2}

\vskip 4mm {\small{\it Рис. 2.} UML-диаграмма времени для ВМ, СУР,
ПУВМ, BOINC-клиента} }
\end{figure}


%\begin{figure}[h]
%\center{\includegraphics[width=1\linewidth]{time_diagram_v4.eps}}
%\caption*{\textit{Рис. 2.} UML-диаграмма времени для ВМ, СУР,
%ПУВМ, BOINC-клиента}
%\end{figure}


Рассмотрим основные этапы жизненного цикла ВМ.

\textbf{Этап подготовки} осуществляется на ВМ администратора
проекта. На этапе подготовки создается новая ВМ. На жестком диске
ВМ создается зашифрованный раздел. ОС ВМ может быть помещена как
на зашифрованный раздел, так и~на отдельный. Установка ОС на
зашифрованный раздел обеспечивает б\'{о}льшую степень защиты
информации, однако при данном подходе минимальный объем
передаваемых данных составит 1.5 Гб. Если ОС установлена на
обычный раздел, а зашифрованный содержит только лишь файлы
и~данные, являющиеся предметом ин\-тел\-лек\-туаль\-ной
собственности, то минимальный объем приложения будет составлять
\mbox{300 МБ}. Различия в~объеме передаваемых данных обусловлены
тем, что зашифрованные данные в~меньшей степени поддаются сжатию.
Также на этапе подготовки производятся загрузка виртуальной ОС,
монтирование шифрованного раздела, содержащего файлы приложения
и~прочую информацию, имеющую лицензионные ограничения. После этого
администратор проекта запускает внутри ВМ СУР в~фоновом режиме
и~осуществляет пользовательский выход (logout) из ОС ВМ.
Окончанием этапа подготовки является сохранение состояния ВМ.

На \textbf{этапе транспортировки} копии файлов ВМ в~сохраненном
состоянии передаются по сети на вычислительные узлы. Для системы
VirtualBox ВМ в~сохраненном состоянии состоит из двух основных
файлов: жесткого диска и~файла состояния, BOINC-приложения из
файлов ВМ и~ПУВМ. Для экономии сетевого трафика
BOINC-инфраструктура использует промежуточное сжатие. Файлы
приложения передаются на вычислительный узел один раз и~могут быть
применены для всех заданий, за\-пус\-кае\-мых на этом узле.
Предлагаемый подход не накладывает ограничений на количество
узлов, на которых ВМ способна продолжить функционирование.
Ограничения могут быть связаны только с~количеством доступных
узлов и~с~физическими возможностями сервера и~каналов связи.

После транспортировки ВМ на вычислительном узле запускается ПУВМ.

На \textbf{этапе вычислений} ПО объединяется с~конкретными данными
вычислительного задания. Для этого ПУВМ создает рабочую копию
сохраненного состояния ВМ и~осуществляет восстановление состояния.
При этом снимок оперативной памяти ВМ загружается в~оперативную
память компьютера, и~ВМ продолжает свою работу, начиная с~момента
остановки. Данные для расчетов вычислительного задания содержатся
внутри отдельного VDI-образа диска. Виртуальный носитель
информации пересылается на вычислительный узел в~качестве данных
BOINC-задания. После восстановления состояния ПУВМ подключает
VDI-образ с~данными к~запущенной ВМ в~качестве внешнего диска.
Работа ПУВМ на вычислительном узле синхронизирована с~работой СУР
внутри ВМ таким образом, что основные действия СУР выполняет после
подключения носителя с~данными.

Теперь рассмотрим более подробно последовательность действий,
выполняемых СУР с~момента запуска.

1. Пауза. Сохранение состояния, транспортировка ВМ
и~восстановление состояния  осуществляются в~тот момент, когда СУР
внутри ВМ находится в~со\-стоя\-нии пау\-зы. Онa начинается на
этапе подготовки ВМ на компьютере администратора проек\-та, а
заканчивается на вычислительном узле. После восстановления
состояния ВМ внутренний скрипт некоторое время будет пребывать
в~состоянии бездействия. За это время к~работающей ВМ будет
подключен внешний виртуальный диск с~данными. Важно отметить, что
время на часах ВМ, которая некоторое время пребывала в~сохраненном
состоянии, может сильно отличаться от общемирового времени.
Пе\-риод ожидания в~системе времени ВМ выбирается администратором
и~может быть от нескольких секунд до 1 мин.

2. После выхода из состояния паузы осуществляются монтирование
внешнего виртуального носителя ВМ и~перенос данных с~него на
зашифрованный раздел. При необходимости передаваемые данные могут
быть дешифрованы.

3. После подготовки данных сценарий управления вычислениями
выполняет запуск приложения.

4. После окончания расчетов результаты вычислений копируются на
внешний вир\-туаль\-ный носитель (при необходимости данные
шифруются). После чего сценарий управления вычислениями
осуществляет выключение ВМ.

Пункты 2--4 на UML-диаграмме времени (рис. 2) обозначены как
\textbf{подготовка и~проведение расчетов}.

Рассмотрим, каким образом происходит защита информации на разных
этапах жизненного цикла данных.

\textit{Защита данных в~процессе транспортировки (data at
transport)} и~\textit{защита данных на носителе информации (data
at rest)}. В~рамках предлагаемой концепции ПО пе\-ре\-дает\-ся
внутри сохраненного состояния ВМ на зашифрованном разделе. Для
получения доступа к~ПО следует осуществить дешифрование раздела.
В~сохраненном состоянии шифрованный раздел примонтирован
в~гостевой ОС. Для доступа к~ПО злоумышленнику необходимо ввести
ключ шифрования или получить доступ к~управлению гостевой ОС.
Возможности современных ОС способны сделать этот доступ
невозможным или чрезвычайно затруднительным. Данные для вычислений
пе\-ре\-дают\-ся внутри виртуального носителя информации. При
необходимости они могут быть помещены внутрь зашифрованного
архива. Для получения доступа к~ним злоумышленнику будет нужно
расшифровать архив. Современные способы создания зашифрованных
архивов делают такую задачу практически нереализуемой.

\textit{Защита данных в~ходе вычислительного процесса (data at
memory)}. Программный код и~данные в~процессе вычислений
помещаются в~оперативную память ВМ. Теоретически посредством
анализа снимка оперативной памяти ВМ злоумышленник может получить
некоторые части исполняемого кода программы и~данных для
вычислений. На практике такой анализ является чрезвычайно
трудоемкой задачей, тре\-бую\-щей высокой квалификации.
В~большинстве случаев стоимость работы по анализу снимка
оперативной памяти для получения несанкционированного доступа
к~данным превышает стоимость лицензионного приобретения ПО
и~данных, что делает подобный взлом нецелесообразным.

%%\section{Заключение}

\textbf{7. Заключение.} В~статье представлена концепция защиты
информации от не\-санк\-цио\-ни\-ро\-ван\-но\-го доступа
в~проектах добровольных вычислений, основанных на технологии
BOINC. Рассмотрены работы, описывающие решение проблемы изоляции
ПО и~данных в~отличных от BOINC вычислительных сетях. Проведен
обзор возможностей платформы BOINC по интеграции с~системой
виртуализации VirtualBox. Также охарактеризованы нетривиальные
возможности VirtualBox по автоматизации управления и~миграции ВМ
в~сохраненном состоянии. Описание концепции защиты информации
носит общий характер. Приведены основные идеи, на которых
по\-ст\-рое\-ны предлагаемые подходы. Составлено описание
необходимых для реализации программных компонентов,
рассматриваются их жизненный цикл и~принцип совокупной работы.

Предложенная концепция защиты информации является универсальной
и~может быть использована для адаптации широкого спектра
вычислительных задач к~проек\-там добровольных вычислений. ПО для
реализации подходов и~алгоритмы шифрования могут быть различным
образом модифицированы для соответствия специфике ре\-шае\-мой
задачи и требованиям разработчика используемого ПО. Также
представленная концепция совместима с~разными методами обеспечения
информационной без\-опас\-нос\-ти, на основе которых может быть
создана система защиты данных, устойчивая к~разнообразным типам
информационных атак.
%%Представленная концепция совместима с~различными методами защиты данных, на основе которых могут создаваться вычислительные системы, устойчивые к~различным типам информационных атак.%%

В настоящее время происходит активное внедрение предложенной
концепции в~\mbox{проект} добровольных вычислений USPEX@HOME [8].
Сейчас проект находится в~стадии бета-тестирования. Тематика
проекта имеет важное прикладное значение в~области моделирования
структуры вещества и~создания новых материалов. В~различное время
к~проекту подключалось более 1.5 тыс. вычислительных узлов.
В~рамках проекта USPEX@HOME на ВМ волонтеров запускается программа
VASP, исполняемый файл и~данные которой являются предметом
интеллектуальной собственности. Использование программы-решателя
VASP и~сопутствующих данных было согласовано с~разработчиком.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newpage
\input{06/lit-ra}

%\newpage
\input{06/ref-s}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\footnotesize

%\thispagestyle{empty}
%
\vskip 3mm
%
\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~16.~Вып.~\issuenum}}
\hfill}%
\fancyfoot[RE]{\hfill\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~16.~Вып.~\issuenum}}}%
% для оформления нижнего колонтитула
\cfoot{} %
%
}
