%
{\footnotesize \noindent$\issueyear$\mbox{~~~~~~~~~~}
ВЕСТНИК\,САНКТ-ПЕТЕРБУРГСКОГО\,УНИВЕРСИТЕТА
Т.\,15.\,\,Вып.\,$\issuenum$\linebreak %
\mbox{~~~~~~~~~~}ПРИКЛАДНАЯ МАТЕМАТИКА. ИНФОРМАТИКА. ПРОЦЕССЫ
УПРАВЛЕНИЯ %
}

%\ \\ \vskip 0.8mm\hrule \\ \hrule \\ \ \\

\vskip 0.5mm

\hline\vskip .5mm

\hline

\vspace{1.8cm} \noindent {\large ПРОЦЕССЫ
УПРАВЛЕНИЯ} \vspace{1.6cm}%1.8cm}

\noindent{\small УДК 519.71\\ %  \hfill {\footnotesize Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~14.~Вып.~\issuenum}\\ %
MSC 91A12

}

\vskip3mm

\noindent{\bf Решения сетевых игр с~попарным взаимодействием$^{*}$%
}

\vskip3mm

\noindent{\it М.~А.~Булгакова%$\,^1$%
%, И.~О. Фамилия%$\,^2$%

 }

\efootnote{
%%
\vspace{-3mm}\parindent=7mm
%%
\vskip 0.1mm $^{*}$ Работа выполнена при финансовой поддержке
Рoссийского фонда фундаментальных исследований (грант №
17-51-53030).\par
%%
%%\vskip 2.0mm
%%
\indent{\copyright} Санкт-Петербургский государственный
университет, \issueyear%
%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum12 } }\hfill\thepage}%
\fancyfoot[RE]{\thepage\hfill{\footnotesize\rm{\doivyp/spbu10.\issueyear.\issuenum12}}}%
% для оформления нижнего колонтитула
\cfoot{} %

\vskip2.0mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\footnotesize

\noindent%
%$^1$~%
Санкт-Петербургский государственный университет,
Российская Федерация,

\noindent%
%\hskip2.45mm%
199034, Санкт-Петербург, Университетская~наб., 7--9

%\noindent%
%$^2$~%
%Санкт-Петербургский государственный университет,
%Российская Федерация,


%\noindent%
%\hskip2.45mm%
%1199034, Санкт-Петербург,
%Университетская~наб., 7--9

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\vskip2.5mm%3mm

{\small \noindent \textbf{Для цитирования:} \textit{Булгакова М.
А.} Решение сетевых игр с~попарным взаимодейст\-вием~// Вестник
Санкт-Петербургского университета. Прикладная математика.
Информатика. Процессы управления. \issueyear. Т.~15.
Вып.~\issuenum. С.~\pageref{p12}--\pageref{p12e}. \doivyp/\enskip%
\!\!\!spbu10.\issueyear.\issuenum12

\vskip2.5mm%3mm

{\leftskip=7mm\noindentРабота посвящена кооперативным сетевым
играм с~попарным взаимодействием. Рассматривается двухшаговая
игра, в~первом состоянии которой происходит процесс формирования
сети, а во~втором --- одновременные биматричные игры между
соседями по~сети. Построена характеристическая функция, доказана
ее супермодулярность для случая одношаговой подыгры, начинающейся
со второго состояния. Для особого класса сетей (сеть-звезда)
найдена упрощенная формула вектора Шепли, не требующая вычисления
значений характеристической функции по~всем коалициям, а только
лишь по~коалициям
размерностью не более двух.\\[1mm]
\textit{Ключевые слова}: кооперативные игры, выпуклость, вектор
Шепли, характеристическая функция.

}

}

\vskip 3mm%4mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\bf Введение.} Теория кооперативных сетевых игр --- важная часть
современной теории игр, которая будет использоваться для
построения  решений в~играх на~сетях со~многими участниками. Эта
теория включает в~себя кооперативную траекторию, стратегии, ее
порождающие, выигрыш вдоль кооперативной траектории, а также
распределение выигрыша между игроками и анализ динамической
устойчивости решений. Сеть иллюстрирует наличие взаимодействия
между парами игроков. Впервые попарное взаимодействие на~сети,
т.~е. взаимодействие один на~один между игроками,
в~некооперативной форме было исследовано в~[1].

Попарное взаимодействие было рассмотрено и на~примере
распространения информации и дезинформации в~социальных сетях
в~работе [2]. Эффективность и устойчивость сетей, зависящих
от~внешних факторов,  таких как суммарные предельные издержки,
были показаны в~[3]. Подходам для нахождения оптимального
поведения в~многошаговых играх посвящена работа [4]. Условия
сильной динамической устойчивости в~двухшаговой игре с~попарным
взаимодействием были найдены в~[5]. Динамические свойства
кооперативных решений в~игре $n$-лиц были рассмотрены в~[6].


В данной статье получены аналитические выражения для
характеристической функции в~сетевой игре с~попарным
взаимодействием, а также для подыгры, состоящей из~одного шага
с~фиксированной сетью, доказано свойство выпуклости
характеристической функции, что гарантирует непустоту С-ядра и
принадлежность С-ядру вектора Шепли. Для особого класса сетей
(сеть-звезда) приведены упрощенные формулы вычисления компонент
вектора Шепли.



{\bf Модель игры.} Пусть $N$ --- конечное множество игроков,
которые принимают решения в~двух состояниях, $|N|=n\geq 2$. Будем
через $z$ обозначать состояние игры. Игра начинается в~состоянии
$z_1$ --- в~нем каждый игрок $i\in N$ выбирает свое поведение
$b_i^1 = (b_{i1}^1, \ldots, b_{in}^1)$ --- $n$-мерный вектор
предложений связи другим игрокам. Введем следующие обозначения:
$M_i \subseteq N \setminus {i}$ --- те игроки, которым игрок $i
\in N$ может предложить связь, значение $a_i \in \lbrace 0,
\ldots, n-1 \rbrace$ равно максимальному числу связей игрока $i$.
Если $M_i = N\setminus \lbrace i \rbrace$, игрок $i$ может
предложить связь всем игрокам и, если $a_i = n-1$, игрок $i$ может
поддерживать любое число связей.

Для каждого поведения $b_i^1$ существует такое подмножество
$Q_i\subset M_i$, для которого выполняется выражение
\begin{equation*}
\begin{array}{cccc}
b_{ij}^1& = & \left\{
\begin{array}{cccc}
1, & \mbox{если } j\in Q_i,   \\
0, & \mbox{в противном случае,}
\end{array} \right.
\end{array}
\label{connect}
\end{equation*}
при условии
\begin{equation}
\sum\limits_{j\in N} b_{ij}^1 \leq a_i. \label{connectRestrict}
\end{equation}
Условие (\ref{connectRestrict}) означает, что число возможных
связей ограничено для каждого игрока. Также очевидно, что
$|Q_i|\leq a_i$.

Связь $ij$ имеет место тогда и только тогда, когда $b_{ij}^1 =
b_{ji}^1 =1$. Сформированные связи $ij$ образуют ребра сети $g$,
вершинами которой являются игроки, т.~е. если $b_{ij}^1 = b_{ji}^1
=1$, то в~сети $g$ появляется ребро с~концевыми вершинами $i$ и
$j$.

Обозначим через $N_i(g)$ соседей игрока $i$ в~сети $g$, т.~е.
$N_i(g)=\lbrace j \in N \setminus \lbrace i \rbrace : ij \in g
\rbrace$. Далее для краткости иногда вместо $N_i(g)$ будем писать
$N_i$. Результатом первого состояния является сеть $g(b_1^1 ,
\ldots, b_n^1)$. После ее формирования игроки переходят
в~состояние $z_2(g)$, которое обусловливается сетью (от сети
зависит множество соседей $N_i$, а следовательно, и правило
взаимодействия между игроками).  Во втором состоянии $z_2(g)$
соседи по~сети играют попарно в~одновременные биматричные игры,
после чего игроки получают выигрыши и игра заканчивается.  Другими
словами,  имеем двухшаговую игру $\Gamma_{z_1}(g)$, которая
является частным случаем многошаговых неантагонистических игр.
Адаптируя к~данному случаю определение стратегий, примем, что
в~рассматриваемом случае стратегия --- это правило, которое для
каждого игрока определяет множество его соседей в~первом
состоянии, а именно вектор $b_i^1$, и~поведение в~каждой
биматричной игре во~втором состоянии в~соответствии с~сетью,
которая сформирована в~первом состоянии, --- $b_i^2$. Обозначим
через $u_i=(b_i^1, b_i^2)$, $i\in N$, стратегию игрока $i$
в~двухшаговой игре $\Gamma_{z_1}(g)$. Рассчитаем выигрыш игрока
$i$ как $h_i(z_2)$, где $(z_1, z_2)$ --- траектория, реализованная
в ситуации $u=(u_1(\cdot), \ldots, u_n(\cdot))$ в~игре
$\Gamma_{z_1}(g)$. Так как в~первом состоянии игроки не получают
выигрыши, то функция выигрыша в~игре $\Gamma_{z_1}(g)$ с~начальной
позицией $z_1$ определяется следующим образом:
$$K_i(z_1; u)=K_i(z_1; u_i(\cdot), \ldots, u_n(\cdot))=h_i(z_2).$$




{\bf Характеристическая функция.} Во втором состоянии игра
представляет собой семейство попарных одновременных биматричных
игр $\{\gamma_{ij}\}$ между соседями на~сети. А именно, пусть
$i\in N, j\in N_i$. Тогда $i$ играет с~$j$ в~биматричную игру
$\gamma_{ij}$ с~матрицами выигрышей $A_{ij}$ и $C_{ji}$ игроков
$i$ и $j$ соответственно:
\begin{center}
$A_{ij} = \begin{pmatrix}
a^{ij}_{11} & a^{ij}_{12} & \cdots & a^{ij}_{1k} \\
a^{ij}_{21} & a^{ij}_{22} & \cdots & a^{ij}_{2k} \\
\vdots & \vdots & \ddots & \vdots \\
a^{ij}_{m1} & a^{ij}_{m2} & \cdots & a^{ij}_{mk}
\end{pmatrix}$, \quad
$C_{ji} = \begin{pmatrix}
c^{ji}_{11} & c^{ji}_{12} & \cdots & c^{ji}_{1k} \\
c^{ji}_{21} & c^{ji}_{22} & \cdots & c^{ji}_{2k} \\
\vdots & \vdots & \ddots & \vdots \\
c^{ji}_{m1} & c^{ji}_{m2} & \cdots & c^{ji}_{mk}
\end{pmatrix}$,\\

$$a_{pl}\geqslant 0, \quad c_{pl}\geqslant 0, \quad p=1,\ldots, m, \quad  l=1,\ldots, k.$$
\end{center}
Константы $m$ и $k$ одинаковы для всех $i$ и $j$. Обозначим через
$\Gamma_{z_2}^S(g)$ подыгру игры $\Gamma$, которая происходит
в~состоянии $z_2$. Опишем такую игру в~кооперативной форме. Найдем
характеристическую функцию для каждого подмножества (коалиции) $S
\subset N$ как нижнее (максиминное) значение антагонистической
игры двух лиц коалиции $S$ и дополнительной коалиции $N\setminus
S$, построенной на~основе игры $\Gamma_{z_2}^S(g)$, при этом
выигрыш коалиции $S$ рассматривается как сумма выигрышей игроков,
входящих в~$S$. Супераддитивность характеристической функции
следует из~ее определения. Обозначим, что
\begin{eqnarray*}
\label{maxMin} w_{ij} &=&\max_{p} \min_{\ell}\; a^{ij}_{p\ell},\quad p=1,\ldots,m,\quad \ell=1,\ldots,k,\\
\label{minMax} w_{ji} &=&\max_{\ell} \min_{p}\;
c^{ji}_{p\ell},\quad p=1,\ldots,m,\quad \ell=1,\ldots,k,
\end{eqnarray*}
и $v(z_2; S),~ S\subset N$, --- нижнее значение антагонистической
игры $\Gamma_{z_2}^S(g)$.

\textbf{Теорема 1.} \textit{Функция $v(z_2; S)$ определяется
по~следующим формулам}:

\begin{equation}
v(z_2;\{\emptyset\}) = 0,
\end{equation}
\begin{equation}
\label{mainPair} v(z_2;\{i\}) = \sum\limits_{j \in N_i} w_{ij},
\end{equation}
\begin{equation}
\label{v(s)} v(z_2;S)\! =\! \frac{1}{2}\sum\limits_{i \in
S}\sum\limits_{j\in N_i\cap S} \max_{p,\ell} (a^{ij}_{p\ell} +
c^{ji}_{p\ell}) + \sum\limits_{i\in S}\sum\limits_{k\in
N_i\setminus S} w_{ik}, S\subset N,
\end{equation}
\begin{equation}
\label{v(N)} v(z_2;N) = \frac{1}{2}\sum\limits_{i \in
N}\sum\limits_{j\in N_i} \max_{p,\ell} (a^{ij}_{p\ell} +
c^{ji}_{p\ell}).
\end{equation}

Д о~к~а з а т е л ь с~т в~о. Формула (2) очевидна.

Докажем (\ref{mainPair}). Поскольку игрок $i$, действуя против
коалиции $N\setminus \{i\}$, играет с~игроками $j$ из~$N\cap N_i$
в независимые биматричные игры, то в~каждой из~этих биматричных
игр он может себе гарантировать наибольший выигрыш $w_{ij}$,
следовательно, наибольший выигрыш, который игрок $i$ может
гарантировать себе во~всей игре,~--- сумма $\sum_{j\in
N_i}w_{ij}$. Это и есть в~данном случае максиминный выигрыш $i$
против $N\setminus \{i\}$. Формула (\ref{mainPair}) справедлива.

Докажем формулу (\ref{v(s)}) для произвольной коалиции $S$. Каждый
из~игроков, входящих в~$S$, играет в~независимые попарные
биматричные игры как с~игроками в~$N_i \cap S$, так и с~игроками
в~$N_i\cap \{N\setminus S\}$. В~первом случае игроки,
взаимодействующие внутри $S$, всегда могут выбрать стратегию,
максимизирующую их суммарный выигрыш, т.~е. $\sum\limits_{j\in
N_i\cap S} \max_{p,\ell} (a^{ij}_{p\ell} + c^{ji}_{p\ell})$. Во
втором случае  игроки, взаимодействующие с~игроками из~$N\setminus
S$, могут гарантировать себе лишь нижнее значение игры, т.~е.
величину $\sum\limits_{k\in N_i\setminus S} w_{ik}$. Таким
образом, максимальный суммарный выигрыш, который может  обеспечить
коалиция $S$, будет равен $$ \frac{1}{2}\sum\limits_{i \in
S}\sum\limits_{j\in N_i\cap S} \max_{p,\ell} (a^{ij}_{p\ell} +
c^{ji}_{p\ell}) + \sum\limits_{i\in S}\sum\limits_{k\in
N_i\setminus S} w_{ik}.$$

Формула (\ref{v(N)}) следует из~определения максимального
суммарного выигрыша игроков.

В формулах (\ref{v(s)}) и (\ref{v(N)}) коэффициент $\frac{1}{2}$
исключает повторноe суммированиe выигрышей по~одним и тем же
ребрам. \hfill$\square$


Рассмотрим кооперативную форму двухшаговой игры $\Gamma_{z_1}(g)$.
Предположим, что игроки выбирают стратегии $\bar{u}_i,  i\in N$,
которые максимизируют их суммарный выигрыш в~игре
$\Gamma_{z_1}(g)$, т. e.
$$\sum\limits_{i\in N} K_i(z_1;\bar{u}_1,\ldots, \bar{u}_n)=\max\limits_{u} \sum\limits_{i\in N} K_i(z_1;u_1,\ldots, u_n).$$
Ситуацию $\bar{u}=(\bar{u}_1,\ldots, \bar{u}_n)$ будем называть
кооперативным поведением,  соответствующую траекторию $(\bar{z}_1,
\bar{z}_2)$ --- кооперативной траекторией, в~данном случае
состоящую из~двух состояний.

Как и раньше, для коалиции $S\subseteq N$ определим
характеристическую функцию $v(\bar{z}_1; S)$ как максимин
в~антагонистической игре двух лиц  коалиции $S$ и дополнительной
коалиции $N\setminus S$, где выигрыш коалиции $S$ равен сумме
выигрышей ее участников и стратегия $S$ --- элемент декартова
произведения множеств стратегий игроков, входящих в~$S$.

Обозначим через $v(z_1; S),~ S\subset N$, нижнее значение
антагонистической игры $\Gamma_{z_1}(g)$.

\textbf{Теорема 2.} \textit{Функция $v(z_1; S)$ определяется
по~следующим формулам}:

\begin{equation}
v(\bar{z}_1; \lbrace i \rbrace)=0,\quad v(\bar{z}_1; \emptyset)=0,
\end{equation}
\begin{equation}
\label{2stepvs} v(\bar{z}_1; S) =\frac{1}{2}\sum\limits_{i \in
S}\sum\limits_{j\in N_i(g)\cap S} \max_{p,\ell} (a^{ij}_{p\ell} +
c^{ji}_{p\ell}), \quad S\subset N,
\end{equation}
\begin{equation}
v(\bar{z}_1; N)=v(\bar{z}_2; N)= \frac{1}{2}\sum\limits_{i \in
N}\sum\limits_{j\in N_i} \max_{p,\ell} (a^{ij}_{p\ell} +
c^{ji}_{p\ell}).
\end{equation}

Д о~к~а з а т е л ь с~т в~о. Доказательство аналогично
доказательству теоремы~1, однако здесь в~(7) в~отличие от~(4)
отсутствует второе слагаемое. Оно равно нулю, поскольку
минимизирующая стратегия $b_i^1$ игроков из~$N\setminus S$
в~первом состоянии  со\-стоит в~отказе от~связей с~игроками
из~$S$. Это следует из~неотрицательности выигрышей во~всех играх.
\hfill $\square$


{\bf  Выпуклость игры.} Характеристическая функция называется
супермодулярной, а соответствующая ей игра выпуклой [7], если для
любых произвольных коалиций $X\subset N$ и $Y\subset N$
выполняется неравенство
\begin{equation}
v(X\cup Y)\geq v(X) + v(Y) - v(X\cap Y).
\end{equation}

\textbf{Теорема 3.} \textit{В подыгре $\Gamma_{z_2}^S(g)$
характеристическая функция}  (2)--(5) \textit{супермодулярна}.

Д о~к~а з а т е л ь с~т в~о.  Докажем неравенство (9) для
характеристической функции (2)--(5). Будем для сокращения записи
вместо $\max_{p,\ell} (a^{ij}_{p\ell} + c^{ji}_{p\ell})$ писать
$m_{ij}$. Имеем
\begin{equation}
v(X\cup Y)= \frac{1}{2}\sum_{{\small \substack {i,j\in X\cup Y \\
j\in N_i \\ i\neq j}}}m_{ij}+\sum_{{\small \substack {i\in X\cup
Y\\ k\in N_i\setminus X\cup Y }}}w_{ik},
\end{equation}

\begin{equation}
v(X)= \frac{1}{2}\sum_{{\small \substack { i,j\in X\\ j\in N_i\\
i\neq j}}}m_{ij}+\sum_{\substack {i\in X\\ k\in N_i\setminus
X}}w_{ik},
\end{equation}

\begin{equation}
v(Y)=\sum_{{\small \substack {i\in Y\\ k\in N_i\setminus
Y}}}w_{ik}+ \frac{1}{2}\sum_{\substack {i,j\in Y\\ j\in N_i\\
i\neq j}}m_{ij} ,
\end{equation}

\begin{equation}
v(X\cap Y)= \sum_{\substack {i\in X\cap Y\\ j\in X\cap Y\\ i\neq j
\\ j\in N_i}}m_{ij} +\sum_{\substack {i\in X\cap Y\\ k\in
N_i\setminus X\cap Y}} w_{ik}.
\end{equation}

\noindent Вычитая из~(10) выражения (11), (12) и прибавляя (13),
получим неравенство

$$ \sum_{\substack {i\in X\setminus Y\\ j\in N_i\setminus X}}m_{ij}  \geq 0,$$
%
%
которое следует из~неотрицательности выигрышей. Таким образом,
неравенство (9) в~игре $\Gamma_{z_2}^S(g)$ выполняется.
\hfill$\square$

Итак, построенная характеристическая функция $v(z_2; S)$
супермодулярна. Это гарантирует непустоту С-ядра и  принадлежность
вектора Шепли С-ядру.



{\bf  Вектор Шепли.} Поскольку вектор Шепли в~подыгре
$\Gamma_{z_2}^S(g)$ всегда принадлежит C-ядру, то его значимость
в~данном классе задач значительно возрастает. Приведем формулу для
вектора Шепли для одной конкретной сетевой игры с~попарным
взаимодействием.

Определим дележ как вектор  $\xi[v] = (\xi_1[v], \ldots,
\xi_n[v])$, который удовлетворяет условиям коллективной
рациональности, т. e. $\sum_{i\in N} \xi_i[v] = v(\cdot;N),$ и
индивидуальной рациональности, т. e. $\xi_i[v]\geqslant
v(\cdot;\{i\}),$ для всех $i\in N$. Обозначим множество всех
дележей в~игре $\Gamma_{z_1}(g)$ через $I(v)$. В~качестве дележа
возьмем вектор Шепли [8] $\varphi[v]= (\varphi_1[v], \ldots,
\varphi_n[v]),$ где
\begin{equation}
\varphi_i [v] = \sum\limits_{S \subseteq N, i \in S} \frac{(|S| -
1)!(n-|S|)!}{n!}[v(S) - v(S\setminus \{i\})],\quad i\in N.
\label{shap}
\end{equation}
Вычисление компонент $\varphi_i[v]$ --- достаточно трудный процесс
для большого числа игроков. Предположим следующее. Пусть
$M_1=N\setminus\{1\}$, $a_1=n-1$ и $M_i=\{1\}$, $a_i=1$ для $i
\neq 1$. Тогда в~первом состоянии игры в~целях максимизации
суммарного выигрыша игроки должны выбрать следующие поведения:
\begin{equation}\label{behavior1} b^1_i=\left\{
\begin{array}{ll}
(0, 1, \ldots, 1),& i=1,\\
(1,0, \ldots, 0),& i \neq 1.
\end{array}
\right.
\end{equation}
Поведение (15) формирует сеть-звезду в~первом состоянии
с~центральным игроком 1 (рис.~1), в~которой $|N_1|=n-1$ и
$|N_i|=1$, $i \neq 1$.


%\begin{flushright}
%    \begin{picture}(245,100)
%    \put(46,40)%
%    {\line(-1,-1){25}}
%    \put(14,10)%
%    {\circle{16}}
%    \put(12,7)%
%    {$n$}
%    \put(55,40)%
%    {\line(1,-1){25}}
%    \put(86,10)%
%    {\circle{16}}
%    \put(83,8)%
%    {...}
%    \put(50,47)%
%    {\circle{16}}
%    \put(48,43)%
%    {1}
%    \put(45,53)%
%    {\line(-1,1){25}}
%    \put(15,85)%
%    {\circle{16}}
%    \put(13,81)%
%    {2}
%    \put(55,53)%
%    {\line(1,1){25}}
%    \put(85,85)%
%    {\circle{16}}
%    \put(83,81)%
%    {3}
%    \label{pic:5}
%    \end{picture}
%\end{flushright}
%\parskip=0mm
\begin{center}
    \begin{small}
\includegraphics[scale=1]{12/fig1}
 \hskip 2cm       \textit{Рис. 1.} Сеть-звезда
    \end{small}
\end{center}

Для сети-звезды характеристическая функция вычисляется с~учетом
специфической структуры сети.


Сеть имеет центральную симметрию, которая позволяет предположить,
что формула (14) может быть упрощена.



\textbf{Утверждение 1.}\label{th1} \textit{Для сети-звезды
с~центральным игроком 1, компоненты вектора Шепли
$\varphi[v(\bar{z}_t)]$, $t=1,2$, представимы в~виде} [9]
\begin{equation}
\label{simpleShapCenter} \varphi_i[v(\bar{z}_t)]= \left\{
\begin{array}{lll}
\displaystyle\frac{1}{2}\left[v(\bar{z}_t;\{1\}) + \sum\limits_{j\neq 1}\left(m_{1j}-v(\bar{z}_t; \{j\})\right)\right],&&\!\! i=1,\\
\displaystyle\frac{1}{2}\left[v(\bar{z}_t; \{i\}) + m_{1i}
-w_{1i}\right],&&\!\! i \neq 1.
\end{array}
\right.
\end{equation}


Д о~к~а з а т е л ь с~т в~о: Сначала докажем выражение (16) для
подыгры $\Gamma_{z_2}^S(g)$. Зафиксируем игрока $i \in S$, $i\neq
1$ и рассмотрим его предельный вклад  $v(\bar{z}_2;S) -
v(\bar{z}_2;S\setminus \{i\})$ в~коалицию $S$. Принимая
во~внимание формулы (2)--(5) для характеристической функции
$v(\bar{z}_2;\cdot)$, получаем, что
\begin{eqnarray*}
v(\bar{z}_2;S)-v(\bar{z}_2;S\setminus\{i\})=\left\{
\begin{array}{ll}
    m_{1i}-w_{1i},& 1 \in S,\\
    w_{i1},& 1 \notin S.
\end{array}
\right.
\end{eqnarray*}
Подставляя (2)--(5) в~формулу  компонент вектора Шепли
\eqref{shap}, для игрока $i\neq 1$  имеем
\begin{eqnarray*}
\varphi_i[v(\bar{z}_2)]&=&\!\!\!\!\sum\limits_{S \subseteq N; i \in S}\frac{(|S| - 1)!(n-|S|)!}{n!}\quad\times[v(\bar{z}_2;S) - v(\bar{z}_2;S\setminus \{i\})]=\\
&=&\!\!\!\! (m_{1i}-w^{1i}_1)\sum\limits_{S \subseteq N; 1,i \in S} \frac{(|S| - 1)!(n-|S|)!}{n!} +\\
&& + \mbox{ } w^{i1}_i\sum\limits_{S \subseteq N; i \in S; 1 \notin S} \frac{(|S| - 1)!(n-|S|)!}{n!}=\\
&=&\!\!\!\! (m_{1i}-w^{1i}_1)\sum\limits_{|S|=2}^n \frac{(|S| - 1)!(n-|S|)!}{n!}\binom{n-2}{|S|-2}+ \\
&&+\mbox{ } w^{i1}_i\sum\limits_{|S|=1}^{n-1} \frac{(|S| - 1)!(n-|S|)!}{n!}\binom{n-2}{|S|-1}=\\
&=&\!\!\!\! (m_{1i}-w^{1i}_1)\sum\limits_{|S|=2}^n \frac{|S| -
1}{n(n-1)}+w^{i1}_i\sum\limits_{|S|=1}^{n-1} \frac{n-|S|}{n(n-1)}=
\end{eqnarray*}
$$ =\frac{1}{2}\left[w^{i1}_i+ m_{1i} -w^{1i}_1\right].$$


Следуя свойству эффективности вектора Шепли, сразу находим, что
%\begin{eqnarray*}
\begin{equation*}
\varphi_1[v(\bar{z}_2)]=v(\bar{z}_2;N)-\sum_{i\neq 1}\varphi_i[v(\bar{z}_2)]=\frac{1}{2}\sum\limits_{i \in N}\sum\limits_{j\in N_i} m_{ij}-\frac{1}{2}\sum_{i\neq 1}\left[w^{i1}_i+ m_{1i} -w^{1i}_1\right]=%\\
\end{equation*}
\begin{equation*}
=\sum\limits_{i\neq 1}m_{1i}-\frac{1}{2}\sum_{i\neq
1}\left[w^{i1}_i+ m_{1i}
-w^{1i}_1\right]=\frac{1}{2}\sum\limits_{i\neq 1}\left[w^{1i}_1+
m_{1i} -w^{i1}_i\right].
\end{equation*}
%\end{eqnarray*}

\noindent С~учетом того, что  $v(\bar{z}_2;\{1\})=\sum_{j \in N_1}
w^{1j}_1=\sum_{i\neq 1} w^{1i}_1$ и $v(\bar{z}_2;\{i\})=\sum_{j
\in N_i} w^{ij}_j=w^{i1}_i$, $i\neq 1$, выражения
\eqref{simpleShapCenter} справедливы для подыгры
$\Gamma_{z_2}^S(g)$.

Теперь докажем \eqref{simpleShapCenter} для игры
$\Gamma_{z_1}(g)$. Аналогично, зафиксируем игрока $i \in S$,
$i\neq 1$ и рассмотрим его максимальный вклад $v(\bar{z}_1;S) -
v(\bar{z}_1;S\setminus \{i\})$ в~коалицию $S$. Используя выражения
(6)--(8) для характеристической функции $v(\bar{z}_1;\cdot)$,
получим
\begin{eqnarray*}
    v(\bar{z}_1;S)-v(\bar{z}_1;S\setminus\{i\})=\left\{
    \begin{array}{ll}
        m_{1i},& 1 \in S,\\
        0,& 1 \notin S.
    \end{array}
    \right.
\end{eqnarray*}
Подставляя их в~формулу для компонент вектора Шепли \eqref{shap},
для игрока $i\neq 1$ имеем
\begin{equation*}
    \varphi_i[v(\bar{z}_1)]=\sum\limits_{S \subseteq N; i \in S} \frac{(|S| - 1)!(n-|S|)!}{n!}[v(\bar{z}_1;S) - v(\bar{z}_1;S\setminus \{i\})]=
    \end{equation*}
    \begin{equation*}
    =m_{1i}\sum\limits_{S \subseteq N; 1,i \in S} \frac{(|S| - 1)!(n-|S|)!}{n!}=m_{1i}\sum\limits_{|S|=2}^n \frac{(|S| - 1)!(n-|S|)!}{n!}\binom{n-2}{|S|-2}=
        \end{equation*}
    \begin{equation*}
    =m_{1i}\sum\limits_{|S|=2}^n \frac{|S| - 1}{n(n-1)}=\frac{m_{1i}}{2}.
\end{equation*}
Снова, следуя свойству эффективности вектора Шепли, можно легко
найти компоненту вектора Шепли для игрока~1:
\begin{equation*}
\varphi_1[v(\bar{z}_1)]=v(\bar{z}_1;N)-\sum_{i\neq
1}\varphi_i[v(\bar{z}_1)] =\frac{1}{2}\sum\limits_{i \in
N}\sum\limits_{j\in N_i} m_{ij}-\frac{1}{2}\sum_{i\neq 1}m_{1i}=
\end{equation*}
\begin{equation*}
=\sum\limits_{i\neq 1}m_{1i}-\frac{1}{2}\sum_{i\neq 1}m_{1i}
=\frac{1}{2}\sum\limits_{i\neq 1}m_{1i}.
\end{equation*}

Напомним, что по~(6)--(8)\ $v(\bar{z}_1;\{i\})=0$ для любого
игрока $i \in N$, выражение \eqref{simpleShapCenter} справедливо
для двухшаговой игры $\Gamma_{z_1}(g)$. \hfill$\square$


{\bf  Пример.} Рассмотрим игру 4 лиц, $N=\{1,2,3,4\}$. С~учетом
принятых выше предположений игрокам в~первом состоянии с~целью
максимизации прибыли выгодно выбрать поведения $b_1^1=(0,1,1,1)$,
$b_2^1=b_3^1=b_4^1=(1,0,0,0)$. Получим сеть-звeзду, приведенную
на~рис.~2.

%\begin{flushright}
%    \begin{picture}(240,100)
%    \put(50,39)%
%    {\line(0,-1){25}}
%    \put(50,6)%
%    {\circle{16}}
%    \put(47,4)%
%    {4}
%
%    \put(50,47)%
%    {\circle{16}}
%    \put(48,43)%
%    {1}
%    \put(45,53)%
%    {\line(-1,1){25}}
%    \put(15,85)%
%    {\circle{16}}
%    \put(13,81)%
%    {2}
%    \put(55,53)%
%    {\line(1,1){25}}
%    \put(85,85)%
%    {\circle{16}}
%    \put(83,81)%
%    {3}
%    \label{pic:5}
%    \end{picture}
%\end{flushright}
%\parskip=0mm
\begin{center}
    \begin{small}
\textit{Рис. 2. }Сеть-звезда для 4 игроков \hskip 2cm
\includegraphics[scale=1]{12/fig2}
    \end{small}
\end{center}

%\noindent
Заданы следующие матрицы:
 \begin{center}
 $A_{12}C_{21} = \begin{pmatrix}
(3;2) & (1;4)  \\
(2;0) & (3;1)  \\
\end{pmatrix},$
$A_{13}C_{31} = \begin{pmatrix}
(2;4) & (1;3)  \\
(2;3) & (3;0)  \\
\end{pmatrix}$,
$A_{14}C_{41} = \begin{pmatrix}
(3;2) & (1;4)  \\
(5;0) & (2;2)  \\
\end{pmatrix}.$\\
 \end{center}
Значения $w_{ij}$ и $m_{ij}$: $m_{12}=5,$ $m_{13}=6,$ $m_{14}=5,$
$w_{12}=2,$ $w_{21}=1,$ $w_{13}=2,$ $w_{31}=3,$ $w_{14}=2,$
$w_{41}=2.$

Вычислим характеристическую функцию для подыгры
$\Gamma_{z_2}^S(g)$, используя выражения (2)--(5):

$v(z_2;\{\emptyset\})=0$, \quad
 $v(z_2;\{1\})=6$, \quad $v(z_2;\{2\})=1$, \quad
$v(z_2;\{3\})=3$, \quad $v(z_2;\{4\})=2$,

$v(z_2;\{12\})=9$, \quad $v(z_2;\{13\})=10$, \quad
$v(z_2;\{14\})=9$,\quad $v(z_2;\{23\})=4$,\quad

$v(z_2;\{34\})=5$,\quad $v(z_2;\{24\})=3$, \quad
$v(z_2;\{234\})=6$, \quad $v(z_2;\{123\})=13$, \quad

$v(z_2;\{124\})=12$, \quad $v(z_2;\{134\})=13$, \quad

$v(z_2;\{1234\})=16$.\\


Далее определим характеристическую функцию для двухшаговой игры
$\Gamma_{z_1}(g)$, применяя выражения (6)--(8):

$v(z_1;\{\emptyset\})=0$,  \quad
 $v(z_1;\{1\})=v(z_1;\{2\})=v(z_1;\{3\})=v(z_2;\{4\})=0,$

$v(z_1;\{12\})=5$, \quad $v(z_1;\{13\})=6$, \quad
$v(z_1;\{14\})=5$,

$v(z_1;\{23\})=v(z_1;\{24\})=v(z_1;\{34\})=0$,

$v(z_1;\{234\})=0,$\quad $v(z_1;\{123\})=11$, \quad
$v(z_1;\{124\})=10$, \quad $v(z_1;\{134\})=11$,

$v(z_1;\{1234\})=16.$


Теперь вычислим значение вектора Шепли для подыгры
$\Gamma_{z_2}^S(g)$ и двухшаговой \linebreak игры $\Gamma$:

$\varphi[v(\bar{z}_2)]=(8, 2, 3.5, 2.5),$

$\varphi[v(\bar{z}_1)]=(8, 2.5, 3, 2.5).$

Для подыгры $\Gamma_{z_2}^S(g)$  доказана выпуклость
характеристической функции, из~этого следует, что вектор Шепли
принадлежит С-ядру. Проверим принадлежность вектора Шепли С-ядру
для случая двухшаговой игры $\Gamma_{z_1}(g)$. Напомним, что
С-ядро в~игре $\Gamma_{z_1}(g)$ --- это множество дележей
$x=(x_1,\ldots,x_n)$, которые удовлетворяют таким  условиям:
\begin{eqnarray}
 \sum_{i\in S} x_i&\geq & v(\bar{z}_1;S) \mbox{~  для всех } S\subset N, \\
\sum\limits_{i=1}^N x_i &=& v(\bar{z}_1;N).
\end{eqnarray}

Подставляя значения характеристической функции (6)--(8) и~вектора
Шепли $\varphi[v(\bar{z}_1)]$ в~условия (17), (18), получим верные
неравенства. Это означает, что в~данной задаче вектор Шепли
принадлежит С-ядру.

Используя вычисленные значения характеристической функции
в~двухшаговой игре и соответствующей одношаговой подыгре
на~кооперативной траектории, можно показать, что
характеристическая функция как двухшаговой игры, так и одношаговой
подыгры в~случае сети-звезды является супермодулярной.

%Мы видим, что значения вектора Шепли в~двухшаговой игре $\Gamma_{z_1}^S(g)$ отличаются от~значений в~подыгре $\Gamma_{z_2}^S(g)$ Это означает динамическую неустойчивость. В~случае динамической неустойчивости решений игроки могут нарушать принятые в~начале игры кооперативные соглашения и откланяться от~кооперативной траектории. Чтобы это предотвратить, необходимо использовать динамический векор Шепли.

% $\varphi[v(\bar{z}])=(\varphi_1[v(\bar{z}], \varphi_2[v(\bar{z}])$ .

%\mbox{Определение.}\\ Вектор $\beta^i=(\beta^i_1;\beta^i_2)$, $i\in N$ называется процедурой распределения дележа (ПРД) для вектора Шепли [9], если
 %\begin{equation*}
 % \varphi_i = \beta^i_1+\beta^i_2, \qquad i\in N.
 %\end{equation*}
%Здесь $\beta^i_1$ можно интерпретировать как платеж игроку $i$ на~шаге формирования сети, и $\beta^i_2$ --- платеж на~втором шаге игры.

%ПРД $\beta$ вектора Шепли [6] $\varphi$ является динамически устойчивой если для всех $i\in N$ мы имеем:
% $$\varphi_i(z_2)=\beta^i_2$$
% $$\varphi_i=\beta^i_1+\beta^i_2$$

%Выбирая в~нашем примере в~качестве $\beta_1$ вектор $(0, 0.5, -0.5, 0)$, получим динамически устойчивый вектор Шепли.

{\bf  Заключение.} В статье рассмотрены кооперативные сетевые игры
с~попарным взаимодействием. Построена характеристическая функция и
доказана ее выпуклость для одношаговой игры, что гарантирует
непустоту С-ядра. Это позволяет в~будущем распространить свойство
выпуклости на~многошаговые игры такого типа, а также облегчит
исследование динамической устойчивости решений.

Полученная в~данной работе формула вектора Шепли для некоторой
сетевой игры более проста в~вычислительном плане и не требует
определения характеристической функции для всех коалиций. Для
расчета вектора Шепли здесь достаточно знать лишь значения
характеристической функции для коалиций, состоящих не более чем из
двух игроков.  Вид характеристической функции позволяет
предполагать, что подобные упрощения возможны и для других типов
симметричных сетей. Работа проиллюстрирована примером.\\

Автор благодарит рецензентов за~ценные замечания.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newpage
\input{12/lit-ra}

%\newpage
\input{12/ref-s}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

{\footnotesize

%\thispagestyle{empty}

\vskip 3mm

\thispagestyle{empty} %очищаем стиль страницы
\thispagestyle{fancy} %включаем пользовательский стиль
\renewcommand{\headrulewidth}{0pt}%
\fancyhead[LO]{}%
\fancyhead[RE]{}%
\fancyfoot[LO]{\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~15.~Вып.~\issuenum}}
\hfill}%
\fancyfoot[RE]{\hfill\footnotesize{\rm{Вестник~СПбГУ.~Прикладная~математика.~Информатика...~\issueyear.~Т.~15.~Вып.~\issuenum}}}%
% для оформления нижнего колонтитула
\cfoot{} %

}
